{"version":3,"sources":["app/app.module.js","app/app.routes.js","app/controllers/main-view.controller.js","appraisal-forms/controllers/appraisal-forms-content-container.controller.js","appraisal-forms/controllers/manage-appraisal-form-employees-content-container.controller.js","appraisal-forms/controllers/manage-appraisal-forms-content-container.controller.js","reviews/controllers/review-content-container.controller.js","reviews/controllers/reviews-content-container.controller.js","reviews/controllers/self-assessment-content-container.controller.js","settings/controllers/appraisal-periods-content-container.controller.js","settings/controllers/departments-content-container.controller.js","settings/controllers/users-content-container.controller.js","team-reviews/controllers/supervisor-review-content-container.controller.js","team-reviews/controllers/team-reviews-content-container.controller.js","appraisal-forms/controllers/dialogs/appraisal-form-dialog.controller.js","appraisal-forms/controllers/toolbars/appraisal-forms-toolbar.controller.js","reviews/controllers/toolbars/reviews-toolbar.controller.js","settings/controllers/dialogs/appraisal-period-dialog.controller.js","settings/controllers/dialogs/department-dialog.controller.js","settings/controllers/dialogs/user-dialog.controller.js","settings/controllers/toolbars/appraisal-periods-toolbar.controller.js","settings/controllers/toolbars/departments-toolbar.controller.js","settings/controllers/toolbars/users-toolbar.controller.js","team-reviews/controllers/toolbars/team-reviews-toolbar.controller.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["var app = angular.module('app', ['shared']);","app\r\n\t.config(['$stateProvider', function($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main', {\r\n\t\t\t\turl: '/',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/main.view.html',\r\n\t\t\t\t\t\tcontroller: 'mainViewController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content-container@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'reviewsContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t\tcontroller: 'reviewsToolbarController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/reviews/templates/content/reviews-content.template.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.team-reviews', {\r\n\t\t\t\turl: 'team-reviews',\r\n\t\t\t\tresolve:{\r\n\t\t\t\t\tauthorization: ['Helper', '$state', function(Helper, $state){\r\n\t\t\t\t\t\tHelper.get('/user-role/3/' + 'authorization')\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\treturn $state.go('page-not-found');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}],\r\n\t\t\t\t},\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'teamReviewsContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.team-reviews': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t\tcontroller: 'teamReviewsToolbarController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.team-reviews': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.team-reviews':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-reviews/templates/content/team-reviews-content.template.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.self-assessment', {\r\n\t\t\t\turl: 'self-assessment/{reviewID}',\r\n\t\t\t\tparams: {'reviewID':null},\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'selfAssessmentContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.self-assessment': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.self-assessment': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.self-assessment':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/reviews/templates/content/self-assessment-content.template.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.review', {\r\n\t\t\t\turl: 'review/{reviewID}',\r\n\t\t\t\tparams: {'reviewID':null},\r\n\t\t\t\tresolve:{\r\n\t\t\t\t\tauthorization: ['Helper', '$state', function(Helper, $state){\r\n\t\t\t\t\t\tHelper.get('/user-role/3/' + 'authorization')\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\treturn $state.go('page-not-found');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}],\r\n\t\t\t\t},\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'reviewContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.review': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.review': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.review':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/reviews/templates/content/review-content.template.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.supervisor-review', {\r\n\t\t\t\turl: 'review/{reviewID}/supervisor',\r\n\t\t\t\tparams: {'reviewID':null},\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'supervisorReviewContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.supervisor-review': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.supervisor-review': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.supervisor-review':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-reviews/templates/content/supervisor-review-content.template.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t// .state('main.reviews', {\r\n\t\t\t// \t\turl: 'reviews',\r\n\t\t\t// \t\tviews: {\r\n\t\t\t// \t\t\t'content-container': {\r\n\t\t\t// \t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t// \t\t\t\tcontroller: 'reviewsContentContainerController',\r\n\t\t\t// \t\t\t},\r\n\t\t\t// \t\t\t'toolbar@main.reviews': {\r\n\t\t\t// \t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t// \t\t\t\tcontroller: 'reviewsToolbarController',\r\n\t\t\t// \t\t\t},\r\n\t\t\t// \t\t\t'left-sidenav@main.reviews': {\r\n\t\t\t// \t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t// \t\t\t},\r\n\t\t\t// \t\t\t'content@main.reviews':{\r\n\t\t\t// \t\t\t\ttemplateUrl: '/app/components/reviews/templates/content/reviews-content.template.html',\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t}\r\n\t\t\t// \t})\r\n\t\t\t.state('main.appraisal-forms', {\r\n\t\t\t\turl: 'appraisal-forms',\r\n\t\t\t\tresolve:{\r\n\t\t\t\t\tauthorization: ['Helper', '$state', function(Helper, $state){\r\n\t\t\t\t\t\tHelper.get('/appraisal-form/create')\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\treturn $state.go('page-not-found');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}],\r\n\t\t\t\t},\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'appraisalFormsContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.appraisal-forms': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t\tcontroller: 'appraisalFormsToolbarController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.appraisal-forms': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.appraisal-forms':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/appraisal-forms/templates/content/appraisal-forms-content.template.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.manage-appraisal-forms', {\r\n\t\t\t\turl: 'appraisal-forms/{appraisalFormID}',\r\n\t\t\t\tparams: {'appraisalFormID': null},\r\n\t\t\t\tresolve:{\r\n\t\t\t\t\tauthorization: ['Helper', '$state', function(Helper, $state){\r\n\t\t\t\t\t\tHelper.get('/appraisal-form/create')\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\treturn $state.go('page-not-found');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}],\r\n\t\t\t\t},\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'manageAppraisalFormsContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.manage-appraisal-forms': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.manage-appraisal-forms': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.manage-appraisal-forms':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/appraisal-forms/templates/content/manage-appraisal-forms-content.template.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.manage-appraisal-form-employees', {\r\n\t\t\t\turl: 'appraisal-forms/{appraisalFormID}/employees',\r\n\t\t\t\tparams: {'appraisalFormID': null},\r\n\t\t\t\tresolve:{\r\n\t\t\t\t\tauthorization: ['Helper', '$state', function(Helper, $state){\r\n\t\t\t\t\t\tHelper.get('/appraisal-form/create')\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\treturn $state.go('page-not-found');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}],\r\n\t\t\t\t},\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'manageAppraisalFormEmployeesContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.manage-appraisal-form-employees': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.manage-appraisal-form-employees': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.manage-appraisal-form-employees':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/appraisal-forms/templates/content/manage-appraisal-form-employees-content.template.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.appraisal-periods', {\r\n\t\t\t\turl: 'settings/appraisal-periods',\r\n\t\t\t\tresolve:{\r\n\t\t\t\t\tauthorization: ['Helper', '$state', function(Helper, $state){\r\n\t\t\t\t\t\tHelper.get('/appraisal-period/create')\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\treturn $state.go('page-not-found');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}],\r\n\t\t\t\t},\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'appraisalPeriodsContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.appraisal-periods': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t\tcontroller: 'appraisalPeriodsToolbarController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.appraisal-periods': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.appraisal-periods':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/settings/templates/content/settings-content.template.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.departments', {\r\n\t\t\t\turl: 'settings/departments',\r\n\t\t\t\tresolve:{\r\n\t\t\t\t\tauthorization: ['Helper', '$state', function(Helper, $state){\r\n\t\t\t\t\t\tHelper.get('/department/create')\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\treturn $state.go('page-not-found');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}],\r\n\t\t\t\t},\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'departmentsContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.departments': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t\tcontroller: 'departmentsToolbarController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.departments': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.departments':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/settings/templates/content/settings-content.template.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.users', {\r\n\t\t\t\turl: 'settings/users',\r\n\t\t\t\tresolve:{\r\n\t\t\t\t\tauthorization: ['Helper', '$state', function(Helper, $state){\r\n\t\t\t\t\t\tHelper.get('/user/create')\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\treturn $state.go('page-not-found');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}],\r\n\t\t\t\t},\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'usersContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.users': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t\tcontroller: 'usersToolbarController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.users': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.users':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/settings/templates/content/settings-content.template.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}]);","app\r\n\t.controller('mainViewController', ['$scope', '$filter', '$state', '$mdDialog', '$mdSidenav', '$mdToast', 'Helper', 'FileUploader', function($scope, $filter, $state, $mdDialog, $mdSidenav, $mdToast, Helper, FileUploader){\r\n\t\t$scope.toggleSidenav = function(menuID){\r\n\t\t\t$mdSidenav(menuID).toggle();\r\n\t\t}\r\n\r\n\t\t$scope.menu = {};\r\n\t\t$scope.menu.pages = [];\r\n\r\n\t\t$scope.menu.static = [\r\n\t\t\t{\r\n\t\t\t\t'state': 'main',\r\n\t\t\t\t'icon': 'mdi-home',\r\n\t\t\t\t'label': 'Home',\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t$scope.menu.section = [];\r\n\r\n\t\t// set section as active\r\n\t\t$scope.setActive = function(index){\r\n\t\t \tangular.element($('[aria-label=\"'+ 'section-' + index + '\"]').closest('li').toggleClass('active'));\r\n\t\t \tangular.element($('[aria-label=\"'+ 'section-' + index + '\"]').closest('li').siblings().removeClass('active'));\r\n\t\t};\r\n\t\t\r\n\t\t$scope.logout = function(){\r\n\t\t\tHelper.post('/user/logout')\r\n\t\t\t\t.success(function(){\r\n\t\t\t\t\twindow.location.href = '/';\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.changePassword = function()\r\n\t\t{\r\n\t\t\t$mdDialog.show({\r\n\t\t      controller: 'changePasswordDialogController',\r\n\t\t      templateUrl: '/app/shared/templates/dialogs/change-password-dialog.template.html',\r\n\t\t      parent: angular.element(document.body),\r\n\t\t      fullscreen: true,\r\n\t\t    })\r\n\t\t    .then(function(){\r\n\t\t    \tHelper.notify('Password changed.')\r\n\t\t    });\r\n\t\t}\r\n\r\n\t\tvar uploader = {};\r\n\r\n\t\tuploader.filter = {\r\n            name: 'photoFilter',\r\n            fn: function(item /*{File|FileLikeObject}*/, options) {\r\n                var type = '|' + item.type.slice(item.type.lastIndexOf('/') + 1) + '|';\r\n                return '|jpg|png|jpeg|bmp|gif|'.indexOf(type) !== -1;\r\n            }\r\n        };\r\n\r\n        uploader.sizeFilter = {\r\n\t\t    'name': 'enforceMaxFileSize',\r\n\t\t    'fn': function (item) {\r\n\t\t        return item.size <= 2000000;\r\n\t\t    }\r\n        }\r\n\r\n        uploader.error = function(item /*{File|FileLikeObject}*/, filter, options) {\r\n            $scope.fileError = true;\r\n            $scope.photoUploader.queue = [];\r\n        };\r\n\r\n        uploader.headers = { 'X-CSRF-TOKEN': document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content')};\r\n\r\n\t\t$scope.clickUpload = function(){\r\n\t\t    angular.element('#upload').trigger('click');\r\n\t\t};\r\n\r\n\t\t$scope.markAllAsRead = function(){\r\n\t\t\tHelper.post('/user/mark-all-as-read')\r\n\t\t\t\t.success(function(){\r\n\t\t\t\t\t$scope.user.unread_notifications = [];\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\tvar fetchUnreadNotifications = function(){\r\n\t\t\tHelper.post('/user/check')\r\n\t    \t\t.success(function(data){\r\n\t    \t\t\t$scope.user = data;\r\n\t    \t\t});\r\n\t\t}\r\n\r\n\t\tHelper.post('/user/check')\r\n\t\t\t.success(function(data){\r\n\t\t\t\tvar settings = false;\r\n\t\t\t\tvar settings_menu = [];\r\n\r\n\t\t\t\tangular.forEach(data.roles, function(role){\r\n\t\t\t\t\tif(role.name == 'supervisor')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar item = {\r\n\t\t\t\t\t\t\t'state': 'main.team-reviews',\r\n\t\t\t\t\t\t\t'icon': 'mdi-account-multiple',\r\n\t\t\t\t\t\t\t'label': 'Team Reviews',\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t$scope.menu.static.splice(2, 0, item);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(role.name == 'parameters')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar item = {\r\n\t\t\t\t\t\t\t'state': 'main.appraisal-forms',\r\n\t\t\t\t\t\t\t'icon': 'mdi-playlist-check',\r\n\t\t\t\t\t\t\t'label': 'Appraisal Forms',\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t$scope.menu.static.splice(2, 0, item);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(role.name == 'dashboard')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar item = {\r\n\t\t\t\t\t\t\t'state': 'main.dashboard',\r\n\t\t\t\t\t\t\t'icon': 'mdi-view-dashboard',\r\n\t\t\t\t\t\t\t'label': 'Dashboard',\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t$scope.menu.static.splice(2, 0, item);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(role.name == 'appraisal-periods')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsettings = true;\r\n\r\n\t\t\t\t\t\tvar item = {\r\n\t\t\t\t\t\t\t'label': 'Appraisal Periods',\r\n\t\t\t\t\t\t\taction: function(){\r\n\t\t\t\t\t\t\t\t$state.go('main.appraisal-periods');\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsettings_menu.push(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(role.name == 'manage-departments')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsettings = true;\r\n\r\n\t\t\t\t\t\tvar item = {\r\n\t\t\t\t\t\t\t'label': 'Departments',\r\n\t\t\t\t\t\t\taction: function(){\r\n\t\t\t\t\t\t\t\t$state.go('main.departments');\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsettings_menu.push(item); \r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(role.name == 'manage-users')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsettings = true;\r\n\r\n\t\t\t\t\t\tvar item = {\r\n\t\t\t\t\t\t\t'label': 'Users',\r\n\t\t\t\t\t\t\taction: function(){\r\n\t\t\t\t\t\t\t\t$state.go('main.users');\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsettings_menu.push(item); \r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif(settings)\r\n\t\t\t\t{\r\n\t\t\t\t\t$scope.menu.section[0] = {\r\n\t\t\t\t\t\t'name':'Settings',\r\n\t\t\t\t\t\t'icon':'mdi-settings',\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$scope.menu.pages[0] = settings_menu;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar notifications = {\r\n\t\t\t\t\t'state': 'main.notifications',\r\n\t\t\t\t\t'icon': 'mdi-bell',\r\n\t\t\t\t\t'label': 'Notifications',\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$scope.menu.static.push(notifications);\r\n\r\n\t\t\t\t$scope.user = data;\r\n\r\n\t\t\t\t$scope.currentTime = Date.now();\r\n\r\n\t\t\t\tHelper.setAuthUser(data);\r\n\r\n\t\t\t\t/* Photo Uploader */\r\n\t\t\t\t$scope.photoUploader = new FileUploader({\r\n\t\t\t\t\turl: '/user/upload-avatar/' + $scope.user.id,\r\n\t\t\t\t\theaders: uploader.headers,\r\n\t\t\t\t\tqueueLimit : 1\r\n\t\t\t\t})\r\n\r\n\t\t\t\t// FILTERS\r\n\t\t        $scope.photoUploader.filters.push(uploader.filter);\r\n\t\t        $scope.photoUploader.filters.push(uploader.sizeFilter);\r\n\t\t        \r\n\t\t\t\t$scope.photoUploader.onWhenAddingFileFailed = uploader.error;\r\n\t\t\t\t$scope.photoUploader.onAfterAddingFile  = function(){\r\n\t\t\t\t\t$scope.fileError = false;\r\n\t\t\t\t\tif($scope.photoUploader.queue.length)\r\n\t\t\t\t\t{\t\r\n\t\t\t\t\t\t$scope.photoUploader.uploadAll()\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t$scope.photoUploader.onCompleteItem  = function(data, response){\r\n\t\t\t\t\tif($scope.user.avatar_path)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$scope.currentTime = Date.now();\r\n\t\t\t\t\t\t$scope.photoUploader.queue = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\t$state.go($state.current, {}, {reload:true});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar pusher = new Pusher('73a46f761ea4637481b5', {\r\n\t\t\t      \tencrypted: true,\r\n\t\t\t      \tauth: {\r\n\t\t\t\t\t    headers: {\r\n\t\t\t\t\t      'X-CSRF-Token': document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content')\r\n\t\t\t\t\t    }\r\n\t\t\t\t  \t}\r\n\t\t\t    });\r\n\r\n\t\t\t\tvar channel = {};\r\n\r\n\t\t\t\tchannel.user = pusher.subscribe('private-App.User.' + $scope.user.id);\r\n\r\n\t\t\t\tchannel.user.bindings = [\r\n\t\t\t\t \tchannel.user.bind('Illuminate\\\\Notifications\\\\Events\\\\BroadcastNotificationCreated', function(data) {\r\n\t\t\t\t \t\t// formating the notification\r\n\t\t\t\t \t\tdata.created_at = data.attachment.created_at;\r\n\r\n\t\t\t\t \t\tdata.data = {};\r\n\t\t\t\t \t\tdata.data.attachment = data.attachment;\r\n\t\t\t\t \t\tdata.data.url = data.url;\r\n\t\t\t\t \t\tdata.data.withParams = data.withParams;\r\n\t\t\t\t \t\tdata.data.sender = data.sender;\r\n\t\t\t\t \t\tdata.data.message = data.message;\r\n\r\n\t\t\t\t \t\t// pushes the new notification in the unread_notifications array\r\n\t\t\t\t \t\t$scope.$apply(function(){\r\n\t\t\t\t\t    \t$scope.user.unread_notifications.unshift(data);\r\n\t\t\t\t \t\t});\r\n\r\n\t\t\t\t \t\t// notify the user with a toast message\r\n\t\t\t\t \t\tHelper.notify(data.sender.name + ' ' + data.message);\r\n\r\n\t\t\t\t \t\tif($state.current.name == data.data.url)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$state.go($state.current, {}, {reload:true});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t    }),\r\n\t\t\t\t];\r\n\t\t\t})\r\n\r\n\t\t$scope.markAsRead = function(notification){\r\n\t\t\tHelper.post('/user/mark-as-read', notification)\r\n\t\t\t\t.success(function(){\r\n\t\t\t\t\tvar index = $scope.user.unread_notifications.indexOf(notification);\r\n\r\n\t\t\t\t\t$scope.user.unread_notifications.splice(index, 1);\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tHelper.error();\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.read = function(notification){\t\t\t\r\n\t\t\t$state.go(notification.data.url);\r\n\r\n\t\t\t$scope.markAsRead(notification);\r\n\t\t}\r\n\r\n\t\t$scope.$on('closeSidenav', function(){\r\n\t\t\t$mdSidenav('left').close();\r\n\t\t});\r\n\t}]);","app\r\n\t.controller('appraisalFormsContentContainerController', ['$scope', '$state', 'Helper', function($scope, $state, Helper){\r\n\t\t$scope.$emit('closeSidenav');\r\n\r\n\t\t$scope.state = $state.current.name;\r\n\t\t/*\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\r\n\t\t$scope.toolbar.toggleActive = function(){\r\n\t\t\t$scope.showInactive = !$scope.showInactive;\r\n\t\t}\r\n\t\t$scope.toolbar.sortBy = function(filter){\r\n\t\t\tfilter.sortReverse = !filter.sortReverse;\t\t\t\r\n\t\t\t$scope.sortType = filter.type;\r\n\t\t\t$scope.sortReverse = filter.sortReverse;\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t * Object for fab\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\t\t$scope.fab.icon = 'mdi-plus';\r\n\r\n\t\t$scope.fab.label = 'Users';\r\n\r\n\t\t$scope.fab.action = function(){\r\n\t\t\t$state.go('main.manage-appraisal-forms');\r\n\t\t}\r\n\r\n\r\n\t\t/* Action originates from toolbar */\r\n\t\t$scope.$on('search', function(){\r\n\t\t\t$scope.showInactive = true;\r\n\t\t\t$scope.request.search = $scope.toolbar.searchText;\r\n\t\t\t$scope.refresh();\r\n\t\t});\r\n\r\n\t\t/* Listens for any request for refresh */\r\n\t\t$scope.$on('refresh', function(){\r\n\t\t\t$scope.showInactive = false;\r\n\t\t\t$scope.request.search = null;\r\n\t\t\t$scope.$broadcast('close');\r\n\t\t\t$scope.refresh();\r\n\t\t});\r\n\r\n\t\t$scope.view = function(id){\r\n\t\t\tHelper.set(id);\r\n\r\n\t\t\tvar dialog = {\r\n\t\t\t\t'controller': 'appraisalFormDialogController',\r\n\t\t\t\t'template': '/app/components/appraisal-forms/templates/dialogs/appraisal-form-dialog.template.html',\r\n\t\t\t\t'fullscreen': true,\r\n\t\t\t}\r\n\r\n\t\t\tHelper.customDialog(dialog)\r\n\t\t\t\t.then(function(data){\r\n\t\t\t\t\tif(data){\r\n\t\t\t\t\t\t$scope.delete(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.update = function(data){\r\n\t\t\t$state.go('main.manage-appraisal-forms', {'appraisalFormID':data.id});\r\n\t\t}\r\n\r\n\t\t$scope.delete = function(data){\r\n\t\t\tvar dialog = {};\r\n\t\t\tdialog.title = 'Delete';\r\n\t\t\tdialog.message = 'Delete ' + data.department.name + ' appraisal form?'\r\n\t\t\tdialog.ok = 'Delete';\r\n\t\t\tdialog.cancel = 'Cancel';\r\n\r\n\t\t\tHelper.confirm(dialog)\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\tHelper.delete('/appraisal-form/' + data.id)\r\n\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\t$scope.refresh();\r\n\t\t\t\t\t\t\tHelper.notify('Appraisal form deleted.');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\tHelper.error();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t/* Formats every data in the paginated call */\r\n\t\tvar pushItem = function(data){\r\n\t\t\tdata.deleted_at =  data.deleted_at ? new Date(data.deleted_at) : null;\r\n\t\t\tdata.hideDelete = data.reviews_count ? true : false;\r\n\r\n\t\t\tdata.appraisal_period.start = new Date(data.appraisal_period.start);\r\n\t\t\tdata.appraisal_period.end = new Date(data.appraisal_period.end);\r\n\r\n\t\t\tvar item = {};\r\n\r\n\t\t\titem.display = data.name;\r\n\r\n\t\t\t$scope.toolbar.items.push(item);\r\n\t\t}\r\n\r\n\t\t$scope.init = function(query){\r\n\t\t\t$scope.appraisal_form = {};\r\n\t\t\t$scope.appraisal_form.items = [];\r\n\t\t\t$scope.toolbar.items = [];\r\n\r\n\t\t\t// 2 is default so the next page to be loaded will be page 2 \r\n\t\t\t$scope.appraisal_form.page = 2;\r\n\r\n\t\t\tHelper.post('/appraisal-form/enlist', query)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.appraisal_form.details = data;\r\n\t\t\t\t\t$scope.appraisal_form.items = data.data;\r\n\t\t\t\t\t$scope.appraisal_form.show = true;\r\n\r\n\t\t\t\t\t$scope.fab.show = true;\r\n\r\n\t\t\t\t\tif(data.data.length){\r\n\t\t\t\t\t\t// iterate over each record and set the format\r\n\t\t\t\t\t\tangular.forEach(data.data, function(item){\r\n\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$scope.appraisal_form.paginateLoad = function(){\r\n\t\t\t\t\t\t// kills the function if ajax is busy or pagination reaches last page\r\n\t\t\t\t\t\tif($scope.appraisal_form.busy || ($scope.appraisal_form.page > $scope.appraisal_form.details.last_page)){\r\n\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t * Executes pagination call\r\n\t\t\t\t\t\t *\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t// sets to true to disable pagination call if still busy.\r\n\t\t\t\t\t\t$scope.appraisal_form.busy = true;\r\n\t\t\t\t\t\t$scope.isLoading = true;\r\n\t\t\t\t\t\t// Calls the next page of pagination.\r\n\t\t\t\t\t\tHelper.post('/appraisal-form/enlist' + '?page=' + $scope.appraisal_form.page, query)\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t// increment the page to set up next page for next AJAX Call\r\n\t\t\t\t\t\t\t\t$scope.appraisal_form.page++;\r\n\r\n\t\t\t\t\t\t\t\t// iterate over each data then splice it to the data array\r\n\t\t\t\t\t\t\t\tangular.forEach(data.data, function(item, key){\r\n\t\t\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t\t\t\t$scope.appraisal_form.items.push(item);\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t// Enables again the pagination call for next call.\r\n\t\t\t\t\t\t\t\t$scope.appraisal_form.busy = false;\r\n\t\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.refresh = function(){\r\n\t\t\t$scope.isLoading = true;\r\n  \t\t\t$scope.appraisal_form.show = false;\r\n\r\n  \t\t\t$scope.init($scope.request);\r\n\t\t};\r\n\r\n\t\tHelper.post('/user/check')\r\n    \t\t.success(function(data){\r\n    \t\t\tvar user = data;\r\n\t\t\t\t\r\n\t\t\t\t$scope.request = {};\r\n\r\n\t\t\t\t$scope.request.withTrashed = true;\r\n\t\t\t\t$scope.request.paginate = 20;\t\r\n\t\t\t\t$scope.request.with = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'relation':'appraisal_period',\r\n\t\t\t\t\t\t'withTrashed':false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'relation':'department',\r\n\t\t\t\t\t\t'withTrashed':false,\r\n\t\t\t\t\t},\r\n\t\t\t\t];\r\n\t\t\t\t$scope.request.withCount = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'relation':'reviews',\r\n\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t},\r\n\t\t\t\t];\r\n\t\t\t\t$scope.request.where = [];\r\n\r\n\t\t\t\tif(!user.super_admin)\r\n\t\t\t\t{\r\n\t\t\t\t\t$scope.request.where.push(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'label': 'department_id',\r\n\t\t\t\t\t\t\t'condition': '=',\r\n\t\t\t\t\t\t\t'value': user.department_id,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$scope.isLoading = true;\r\n\t\t\t\t$scope.$broadcast('close');\r\n\r\n\t\t\t\t$scope.init($scope.request);\r\n    \t\t});\r\n\r\n\t}]);","app\r\n\t.controller('manageAppraisalFormEmployeesContentContainerController', ['$scope', '$filter', '$state', '$stateParams', 'Helper', function($scope, $filter, $state, $stateParams, Helper){\r\n\t\t$scope.$emit('closeSidenav');\r\n\r\n\t\t$scope.form = {};\r\n\t\t$scope.form.include_all = false;\r\n\r\n\t\tvar appraisalFormID = $stateParams.appraisalFormID;\r\n\r\n\t\t/*\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\r\n\t\t$scope.toolbar.hideSearchIcon = true;\r\n\r\n\t\t$scope.toolbar.parentState = 'Appraisal Form';\r\n\t\t$scope.toolbar.childState =  'Employees';\r\n\r\n\t\tvar error_dialog = {\r\n\t\t\t'title': 'Aw Snap!',\r\n\t\t\t'message': 'An error occured loading the resource.',\r\n\t\t\t'ok': 'Try Again'\r\n\t\t}\r\n\r\n\t\t$scope.items = [];\r\n\r\n\t\t$scope.querySearch = function(query){\r\n\t\t\tvar results = query ? $filter('filter')($scope.items, query) : $scope.items;\r\n\t\t\treturn results;\r\n\t\t}\r\n\r\n\t\t$scope.checkAll = function(){\r\n\t\t\tif($scope.form.include_all)\r\n\t\t\t{\r\n\t\t\t\t$scope.appraisal_form.reviews = $scope.items;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t$scope.appraisal_form.reviews = [];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t * Object for fab\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\t\t$scope.fab.icon = 'mdi-check';\r\n\t\t$scope.fab.label = 'Submit';\r\n\t\t$scope.fab.show = true;\r\n\r\n\t\t$scope.fab.action = function(){\r\n\t\t\t$scope.busy = true;\r\n\r\n\t\t\tHelper.preload();\r\n\r\n\t\t\tif(!appraisalFormID)\r\n\t\t\t{\r\n\t\t\t\tHelper.post('/review', $scope.appraisal_form.reviews)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\tHelper.stop();\r\n\t\t\t\t\t\t$state.go('main.appraisal-forms');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\tHelper.error();\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tHelper.put('/review/' + appraisalFormID, $scope.appraisal_form.reviews)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\tHelper.stop();\r\n\t\t\t\t\t\t$state.go('main.appraisal-forms');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\tHelper.error();\r\n\t\t\t\t\t})\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$scope.init = function(){\t\t\r\n\t\t\tvar appraisal_form_query = {}\r\n\r\n\t\t\tappraisal_form_query.with = [\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation': 'appraisal_period',\r\n\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation': 'department',\r\n\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation': 'reviews.user',\r\n\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation': 'reviews.goals',\r\n\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation': 'reviews.behavioral_competencies',\r\n\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t},\r\n\t\t\t];\r\n\r\n\t\t\tappraisal_form_query.where = [\r\n\t\t\t\t{\r\n\t\t\t\t\t'label': 'id',\r\n\t\t\t\t\t'condition': '=',\r\n\t\t\t\t\t'value': appraisalFormID,\r\n\t\t\t\t},\r\n\t\t\t];\r\n\r\n\t\t\tappraisal_form_query.first = true;\r\n\r\n\t\t\tvar appraisalForm = function(){\r\n\t\t\t\tHelper.post('/appraisal-form/enlist', appraisal_form_query)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t$scope.locked_reviews = [];\r\n\r\n\t\t\t\t\t\tvar exclude_users = [];\r\n\r\n\t\t\t\t\t\tangular.forEach(data.reviews, function(item, idx){\r\n\t\t\t\t\t\t\tvar name = item.user.first_name + ' ' + item.user.last_name;\r\n\r\n\t\t\t\t\t\t\tif(item.goals.length || item.behavioral_competencies.length)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t$scope.locked_reviews.push(name);\r\n\t\t\t\t\t\t\t\texclude_users.push(item.user_id);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\titem.user_id = item.user.id;\r\n\t\t\t\t\t\t\titem.name = name;\r\n\t\t\t\t\t\t\titem.image = item.user.avatar_path ? '/user/avatar/' + user.id : '/img/2Color-Favicon_512x512-1.png';\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdata.appraisal_period.start = new Date(data.appraisal_period.start);\r\n\t\t\t\t\t\tdata.appraisal_period.end = new Date(data.appraisal_period.end);\r\n\r\n\t\t\t\t\t\t$scope.appraisal_form = data;\r\n\t\t\t\t\t\t// $scope.appraisal_form.reviews = [];\r\n\r\n\t\t\t\t\t\tvar users_query = {}\r\n\r\n\t\t\t\t\t\tusers_query.where = [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'label': 'department_id',\r\n\t\t\t\t\t\t\t\t'condition': '=',\r\n\t\t\t\t\t\t\t\t'value': $scope.appraisal_form.department_id,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t];\r\n\r\n\t\t\t\t\t\tusers_query.whereNotIn = [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'label': 'id',\r\n\t\t\t\t\t\t\t\t'values': exclude_users,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t];\r\n\r\n\t\t\t\t\t\tvar users = function(){\r\n\t\t\t\t\t\t\tHelper.post('/user/enlist', users_query)\r\n\t\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t\tangular.forEach(data, function(user){\r\n\t\t\t\t\t\t\t\t\t\tvar item = {};\r\n\r\n\t\t\t\t\t\t\t\t\t\titem.user_id = user.id;\r\n\t\t\t\t\t\t\t\t\t\titem.appraisal_form_id = appraisalFormID;\r\n\t\t\t\t\t\t\t\t\t\titem.name = user.last_name + ', ' + user.first_name;\r\n\t\t\t\t\t\t\t\t\t\titem.email = user.email;\r\n\t\t\t\t\t\t\t\t\t\titem.image = user.avatar_path ? '/user/avatar/' + user.id : '/img/2Color-Favicon_512x512-1.png';\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t$scope.items.push(item);\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t$scope.users = data;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\t\tHelper.confirm(error_dialog)\r\n\t\t\t\t\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t\t\t\t\tusers();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tusers();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\tHelper.confirm(error_dialog)\r\n\t\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t\tappraisalForm();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tappraisalForm();\r\n\t\t}();\r\n\t}]);","app\r\n\t.controller('manageAppraisalFormsContentContainerController', ['$scope', '$state', '$stateParams', 'Helper', function($scope, $state, $stateParams, Helper){\r\n\t\t$scope.$emit('closeSidenav');\r\n\r\n\t\t$scope.form = {};\r\n\r\n\t\tvar appraisalFormID = $stateParams.appraisalFormID;\r\n\r\n\t\t/*\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\r\n\t\t$scope.toolbar.hideSearchIcon = true;\r\n\r\n\t\t$scope.toolbar.parentState = 'Appraisal Forms';\r\n\t\t$scope.toolbar.childState =  appraisalFormID ? 'Edit' : 'New';\r\n\r\n\t\tvar error_dialog = {\r\n\t\t\t'title': 'Aw Snap!',\r\n\t\t\t'message': 'An error occured loading the resource.',\r\n\t\t\t'ok': 'Try Again'\r\n\t\t}\r\n\r\n\t\tvar appraisalPeriods = function(){\t\t\r\n\t\t\tHelper.get('/appraisal-period')\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tangular.forEach(data, function(item){\r\n\t\t\t\t\t\titem.start = new Date(item.start);\r\n\t\t\t\t\t\titem.end = new Date(item.end);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t$scope.appraisal_periods = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tHelper.confirm(error_dialog)\r\n\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\tappraisalPeriods();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tvar departments = function(){\t\t\r\n\t\t\tHelper.get('/department')\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.departments = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tHelper.confirm(error_dialog)\r\n\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\tdepartments();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t * Object for fab\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\t\t$scope.fab.icon = 'mdi-check';\r\n\t\t$scope.fab.label = 'Submit';\r\n\t\t$scope.fab.show = true;\r\n\r\n\t\t$scope.fab.action = function(){\r\n\t\t\tif($scope.form.appraisalForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.form.appraisalForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif($scope.total_weight == 100)\r\n\t\t\t{\r\n\t\t\t\t$scope.busy = true;\r\n\r\n\t\t\t\tHelper.preload();\r\n\r\n\t\t\t\tif(!appraisalFormID)\r\n\t\t\t\t{\r\n\t\t\t\t\tHelper.post('/appraisal-form', $scope.appraisal_form)\r\n\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\tHelper.stop();\r\n\t\t\t\t\t\t\t$state.go('main.appraisal-forms');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\tHelper.error();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tHelper.put('/appraisal-form/' + appraisalFormID, $scope.appraisal_form)\r\n\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\tHelper.stop();\r\n\t\t\t\t\t\t\t$state.go('main.appraisal-forms');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\tHelper.error();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t$scope.incomplete_goals = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$scope.addGoal = function(){\r\n\t\t\t$scope.appraisal_form.goals.push({});\r\n\t\t}\r\n\t\t\r\n\t\t$scope.setGoal = function(){\r\n\t\t\t$scope.total_weight = 0;\r\n\r\n\t\t\tangular.forEach($scope.appraisal_form.goals, function(item){\r\n\t\t\t\tif(item.weight)\r\n\t\t\t\t{\r\n\t\t\t\t\t$scope.total_weight += item.weight;\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif($scope.total_weight == 100)\r\n\t\t\t{\r\n\t\t\t\t$scope.incomplete_goals = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$scope.removeGoal = function(idx){\r\n\t\t\tif(appraisalFormID)\r\n\t\t\t{\r\n\t\t\t\tvar dialog = {\r\n\t\t\t\t\t'title': 'Remove Goal',\r\n\t\t\t\t\t'message': 'This goal will be removed permanently.',\r\n\t\t\t\t\t'ok': 'Delete',\r\n\t\t\t\t\t'cancel': 'cancel',\r\n\t\t\t\t}\r\n\r\n\t\t\t\tHelper.confirm(dialog)\r\n\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\tHelper.delete('/goal/' + $scope.appraisal_form.goals[idx].id)\r\n\t\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\t\t$scope.appraisal_form.goals.splice(idx, 1);\r\n\t\t\t\t\t\t\t\t$scope.setGoal();\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\tHelper.error();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}, function(){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse{\t\t\t\t\r\n\t\t\t\t$scope.appraisal_form.goals.splice(idx, 1);\r\n\t\t\t\t$scope.setGoal();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$scope.addBehavioralCompetency = function(){\r\n\t\t\t$scope.appraisal_form.behavioral_competencies.push({});\r\n\t\t}\r\n\r\n\t\t$scope.removeBehavioralCompetency = function(idx){\r\n\t\t\tif(appraisalFormID)\r\n\t\t\t{\r\n\t\t\t\tvar dialog = {\r\n\t\t\t\t\t'title': 'Remove Behavioral Competency',\r\n\t\t\t\t\t'message': 'This item will be removed permanently.',\r\n\t\t\t\t\t'ok': 'Delete',\r\n\t\t\t\t\t'cancel': 'Cancel',\r\n\t\t\t\t}\r\n\r\n\t\t\t\tHelper.confirm(dialog)\r\n\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\tHelper.delete('/behavioral-competency/' + $scope.appraisal_form.behavioral_competencies[idx].id)\r\n\t\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\t\t$scope.appraisal_form.behavioral_competencies.splice(idx, 1);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\tHelper.error();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}, function(){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse{\t\t\t\t\r\n\t\t\t\t$scope.appraisal_form.behavioral_competencies.splice(idx, 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$scope.init = function(){\r\n\t\t\tHelper.post('/user/check')\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.super_admin = data.super_admin;\r\n\t\t\t\t\t\r\n\t\t\t\t\tappraisalPeriods();\r\n\r\n\t\t\t\t\tif($scope.super_admin){\r\n\t\t\t\t\t\tdepartments();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(!appraisalFormID)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$scope.appraisal_form = {};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$scope.appraisal_form.goals = [{}];\r\n\t\t\t\t\t\t$scope.appraisal_form.behavioral_competencies = [{}];\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tvar query = {}\r\n\r\n\t\t\t\t\t\tquery.with = [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'relation': 'appraisal_period',\r\n\t\t\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'relation': 'goals',\r\n\t\t\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'relation': 'behavioral_competencies',\r\n\t\t\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t];\r\n\r\n\t\t\t\t\t\tquery.where = [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'label': 'id',\r\n\t\t\t\t\t\t\t\t'condition': '=',\r\n\t\t\t\t\t\t\t\t'value': appraisalFormID,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t];\r\n\r\n\t\t\t\t\t\tquery.first = true;\r\n\r\n\t\t\t\t\t\tvar appraisalForm = function(){\r\n\t\t\t\t\t\t\tHelper.post('/appraisal-form/enlist', query)\r\n\t\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t\tangular.forEach(data.goals, function(item){\r\n\t\t\t\t\t\t\t\t\t\titem.weight = item.weight * 100;\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t$scope.appraisal_form = data;\r\n\r\n\t\t\t\t\t\t\t\t\t$scope.setGoal();\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\t\tHelper.confirm(error_dialog)\r\n\t\t\t\t\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t\t\t\t\tappraisalForm();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tappraisalForm();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t}();\r\n\t}]);","app\r\n\t.controller('reviewContentContainerController', ['$scope', '$filter', '$state', '$stateParams', 'Helper', function($scope, $filter, $state, $stateParams, Helper){\r\n\t\t$scope.$emit('closeSidenav');\r\n\r\n\t\tvar route = '/review';\r\n\r\n\t\tvar reviewID = $stateParams.reviewID;\r\n\r\n\t\t/*\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\r\n\t\t$scope.toolbar.parentState = 'Team Reviews';\r\n\r\n\t\t$scope.toolbar.hideSearchIcon = true;\r\n\t\t\r\n\t\t/*\r\n\t\t * Object for request\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.request = {};\r\n\r\n\t\t$scope.request.withTrashed = false;\r\n\t\t$scope.request.first = true;\t\r\n\t\t$scope.request.with = [\r\n\t\t\t{\r\n\t\t\t\t'relation':'appraisal_form.appraisal_period',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation':'goals.goal',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation':'behavioral_competencies.behavioral_competency',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation':'user',\r\n\t\t\t\t'withTrashed': false,\t\r\n\t\t\t},\r\n\t\t];\r\n\t\t$scope.request.where = [\r\n\t\t\t{\r\n\t\t\t\t'label': 'id',\r\n\t\t\t\t'condition': '=',\r\n\t\t\t\t'value': reviewID,\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t$scope.init = function(query){\t\t\r\n\t\t\tHelper.post(route + '/enlist', query)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tif(!data || (!data.goals.length && !data.behavioral_competencies.length))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$state.go('page-not-found');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdata.appraisal_form.appraisal_period.start = new Date(data.appraisal_form.appraisal_period.start);\r\n\t\t\t\t\tdata.appraisal_form.appraisal_period.end = new Date(data.appraisal_form.appraisal_period.end);\r\n\r\n\t\t\t\t\t$scope.toolbar.childState = data.user.last_name + ', ' + data.user.first_name + ' ' + data.user.middle_name.charAt(0).toUpperCase() +'.';\r\n\t\t\t\t\t\r\n\t\t\t\t\t$scope.review = data;\r\n\r\n\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tHelper.failed()\r\n\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t$scope.init(query);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.refresh = function(){\r\n\t\t\t$scope.isLoading = true;\r\n\r\n  \t\t\t$scope.init($scope.request);\r\n\t\t};\r\n\r\n\t\t$scope.evaluate = function(id){\r\n\t\t\t$state.go('main.supervisor-review', {'reviewID':id});\r\n\t\t}\r\n\r\n\t\t$scope.isLoading = true;\r\n\t\t$scope.init($scope.request);\r\n\t}]);","app\r\n\t.controller('reviewsContentContainerController', ['$scope', '$state', 'Helper', function($scope, $state, Helper){\r\n\t\t$scope.$emit('closeSidenav');\r\n\r\n\t\tvar route = '/review';\r\n\r\n\t\t/*\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\r\n\t\t$scope.toolbar.toggleActive = function(){\r\n\t\t\t$scope.showInactive = !$scope.showInactive;\r\n\t\t}\r\n\t\t$scope.toolbar.sortBy = function(filter){\r\n\t\t\tfilter.sortReverse = !filter.sortReverse;\t\t\t\r\n\t\t\t$scope.sortType = filter.type;\r\n\t\t\t$scope.sortReverse = filter.sortReverse;\r\n\t\t}\r\n\r\n\t\t$scope.selfAssessment = function(id){\r\n\t\t\t$state.go('main.self-assessment', {'reviewID':id});\r\n\t\t}\r\n\r\n\t\tvar setInit = function(){\r\n\t\t\tHelper.post('/user/check')\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.request = {};\r\n\r\n\t\t\t\t\t$scope.request.withTrashed = false;\r\n\t\t\t\t\t$scope.request.paginate = 20;\t\r\n\t\t\t\t\t$scope.request.with = [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'relation':'appraisal_form.appraisal_period',\r\n\t\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'relation':'goals.goal',\r\n\t\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'relation':'behavioral_competencies.behavioral_competency',\r\n\t\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t\t$scope.request.where = [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'label': 'user_id',\r\n\t\t\t\t\t\t\t'condition': '=',\r\n\t\t\t\t\t\t\t'value': data.id,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\r\n\t\t\t\t\t$scope.isLoading = true;\r\n\t\t\t\t\t$scope.$broadcast('close');\r\n\r\n\t\t\t\t\t$scope.init($scope.request);\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tHelper.failed()\r\n\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\tsetInit();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t/* Formats every data in the paginated call */\r\n\t\tvar pushItem = function(data){\r\n\t\t\tdata.appraisal_form.appraisal_period.start = new Date(data.appraisal_form.appraisal_period.start);\r\n\t\t\tdata.appraisal_form.appraisal_period.end = new Date(data.appraisal_form.appraisal_period.end);\r\n\r\n\t\t\tvar item = {};\r\n\r\n\t\t\titem.display = data.appraisal_form.appraisal_period.appraisal_year;\r\n\r\n\t\t\t$scope.toolbar.items.push(item);\r\n\t\t}\r\n\r\n\t\t$scope.init = function(query){\r\n\t\t\t$scope.review = {};\r\n\t\t\t$scope.review.items = [];\r\n\t\t\t$scope.toolbar.items = [];\r\n\r\n\t\t\t// 2 is default so the next page to be loaded will be page 2 \r\n\t\t\t$scope.review.page = 2;\r\n\r\n\t\t\tvar reviews = function(query){\t\t\t\t\r\n\t\t\t\tHelper.post(route + '/enlist', query)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t$scope.review.details = data;\r\n\t\t\t\t\t\t$scope.review.items = data.data;\r\n\t\t\t\t\t\t$scope.review.show = true;\r\n\r\n\t\t\t\t\t\tif(data.data.length){\r\n\t\t\t\t\t\t\t// iterate over each record and set the format\r\n\t\t\t\t\t\t\tangular.forEach(data.data, function(item){\r\n\t\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t$scope.review.paginateLoad = function(){\r\n\t\t\t\t\t\t\t// kills the function if ajax is busy or pagination reaches last page\r\n\t\t\t\t\t\t\tif($scope.review.busy || ($scope.review.page > $scope.review.details.last_page)){\r\n\t\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t\t * Executes pagination call\r\n\t\t\t\t\t\t\t *\r\n\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t// sets to true to disable pagination call if still busy.\r\n\t\t\t\t\t\t\t$scope.review.busy = true;\r\n\t\t\t\t\t\t\t$scope.isLoading = true;\r\n\t\t\t\t\t\t\t// Calls the next page of pagination.\r\n\t\t\t\t\t\t\tHelper.post(route + '/enlist' + '?page=' + $scope.review.page, query)\r\n\t\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t\t// increment the page to set up next page for next AJAX Call\r\n\t\t\t\t\t\t\t\t\t$scope.review.page++;\r\n\r\n\t\t\t\t\t\t\t\t\t// iterate over each data then splice it to the data array\r\n\t\t\t\t\t\t\t\t\tangular.forEach(data.data, function(item, key){\r\n\t\t\t\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t\t\t\t\t$scope.review.items.push(item);\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t// Enables again the pagination call for next call.\r\n\t\t\t\t\t\t\t\t\t$scope.review.busy = false;\r\n\t\t\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\t\tHelper.failed()\r\n\t\t\t\t\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t\t\t\t\t$scope.review.paginateLoad();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\tHelper.failed()\r\n\t\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t\treviews(query);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treviews(query);\r\n\t\t}\r\n\r\n\t\t$scope.refresh = function(){\r\n\t\t\t$scope.isLoading = true;\r\n  \t\t\t$scope.review.show = false;\r\n\r\n  \t\t\t$scope.init($scope.request);\r\n\t\t};\r\n\r\n\t\tsetInit();\r\n\t}]);","app\r\n\t.controller('selfAssessmentContentContainerController', ['$scope', '$filter', '$state', '$stateParams', 'Helper', function($scope, $filter, $state, $stateParams, Helper){\r\n\t\t$scope.$emit('closeSidenav');\r\n\r\n\t\tvar route = '/review';\r\n\r\n\t\t$scope.form = {};\r\n\r\n\t\tvar reviewID = $stateParams.reviewID;\r\n\r\n\t\t/*\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\r\n\t\t$scope.toolbar.parentState = 'Self Assessment';\r\n\r\n\t\t/*\r\n\t\t * Object for fab\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {}\r\n\r\n\t\t$scope.fab.icon = 'mdi-check';\r\n\t\t$scope.fab.label = 'Submit';\r\n\t\t$scope.fab.show = true;\r\n\r\n\t\t$scope.fab.action = function(){\r\n\t\t\tif($scope.form.reviewForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.form.reviewForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar submit = function(){\r\n\t\t\t\tHelper.preload();\r\n\r\n\t\t\t\tif($scope.create)\r\n\t\t\t\t{\t\t\t\t\t\t\t\r\n\t\t\t\t\tHelper.post('/review/self-assessment', $scope.review)\r\n\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\tHelper.stop();\r\n\t\t\t\t\t\t\t$state.go('main')\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\tHelper.failed()\r\n\t\t\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t\t\tsubmit();\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tHelper.post('/review/update-self-assessment', $scope.review)\r\n\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\tHelper.stop();\r\n\t\t\t\t\t\t\tHelper.notify('Changes saved.')\r\n\t\t\t\t\t\t\t$state.go('main');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\tHelper.failed()\r\n\t\t\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t\t\tsubmit();\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tsubmit();\r\n\t\t}\r\n\r\n\t\t$scope.request = {};\r\n\r\n\t\t$scope.request.withTrashed = false;\r\n\t\t$scope.request.first = true;\t\r\n\t\t$scope.request.with = [\r\n\t\t\t{\r\n\t\t\t\t'relation':'appraisal_form.appraisal_period',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation':'goals.goal',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation':'behavioral_competencies.behavioral_competency',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t},\r\n\t\t];\r\n\t\t$scope.request.where = [\r\n\t\t\t{\r\n\t\t\t\t'label': 'id',\r\n\t\t\t\t'condition': '=',\r\n\t\t\t\t'value': reviewID,\r\n\t\t\t},\r\n\t\t];\r\n\r\n\r\n\t\t$scope.init = function(query){\r\n\t\t\tHelper.post(route + '/enlist', query)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.review = data;\r\n\r\n\t\t\t\t\tif(!data.goals.length && !data.behavioral_competencies.length)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$scope.create = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tangular.forEach(data.goals, function(item){\r\n\t\t\t\t\t\titem.parameter = item.goal.parameter;\r\n\t\t\t\t\t\titem.weight = item.goal.weight;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tangular.forEach(data.behavioral_competencies, function(item){\r\n\t\t\t\t\t\titem.parameter = item.behavioral_competency.parameter;\r\n\t\t\t\t\t\titem.description = item.behavioral_competency.description;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tdata.appraisal_form.appraisal_period.start = new Date(data.appraisal_form.appraisal_period.start)\r\n\t\t\t\t\tdata.appraisal_form.appraisal_period.end = new Date(data.appraisal_form.appraisal_period.end)\r\n\r\n\t\t\t\t\t$scope.toolbar.childState = $filter('date')(data.appraisal_form.appraisal_period.start, 'MMM. dd, yyyy')  + ' to ' + $filter('date')(data.appraisal_form.appraisal_period.end, 'MMM. dd, yyyy');\r\n\t\t\t\t\r\n\t\t\t\t\tvar appraisal_form_query = {\r\n\t\t\t\t\t\t'with': [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'relation': 'goals',\r\n\t\t\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'relation': 'behavioral_competencies',\r\n\t\t\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\t'where': [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'label': 'id',\r\n\t\t\t\t\t\t\t\t'condition': '=',\r\n\t\t\t\t\t\t\t\t'value': data.appraisal_form.id,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\t'first': true,\r\n\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar appraisalForm = function(){\r\n\t\t\t\t\t\tHelper.post('/appraisal-form/enlist', appraisal_form_query)\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\tangular.forEach(data.goals, function(item){\r\n\t\t\t\t\t\t\t\t\titem.self_assessment = 3;\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tangular.forEach(data.behavioral_competencies, function(item){\r\n\t\t\t\t\t\t\t\t\titem.self_appraisal_rating = 3;\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t$scope.appraisal_form = data;\r\n\r\n\t\t\t\t\t\t\t\tif(!$scope.review.goals.length)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t$scope.review.goals = data.goals;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif(!$scope.review.behavioral_competencies.length)\r\n\t\t\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t$scope.review.behavioral_competencies = data.behavioral_competencies;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\tHelper.failed()\r\n\t\t\t\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t\t\t\tappraisalForm();\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tappraisalForm();\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tHelper.failed()\r\n\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t$scope.init($scope.request);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tHelper.get('/review/' + reviewID)\r\n\t\t\t.success(function(){\r\n\t\t\t\t$scope.init($scope.request);\r\n\t\t\t})\r\n\t\t\t.error(function(){\r\n\t\t\t\t$state.go('page-not-found');\r\n\t\t\t})\r\n\t}]);","app\r\n\t.controller('appraisalPeriodsContentContainerController', ['$scope', '$state', 'Helper', function($scope, $state, Helper){\r\n\t\t$scope.$emit('closeSidenav');\r\n\r\n\t\t$scope.state = $state.current.name;\r\n\r\n\t\tvar route = '/appraisal-period';\r\n\t\t/*\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\r\n\t\t$scope.toolbar.toggleActive = function(){\r\n\t\t\t$scope.showInactive = !$scope.showInactive;\r\n\t\t}\r\n\t\t$scope.toolbar.sortBy = function(filter){\r\n\t\t\tfilter.sortReverse = !filter.sortReverse;\t\t\t\r\n\t\t\t$scope.sortType = filter.type;\r\n\t\t\t$scope.sortReverse = filter.sortReverse;\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t * Object for fab\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\t\t$scope.fab.icon = 'mdi-plus';\r\n\r\n\t\t$scope.fab.label = 'Users';\r\n\r\n\t\t$scope.fab.action = function(){\r\n\t\t\tvar dialog = {\r\n\t\t\t\t'template':'/app/components/settings/templates/dialogs/appraisal-period-dialog.template.html',\r\n\t\t\t\t'controller': 'appraisalPeriodDialogController',\r\n\t\t\t}\r\n\r\n\t\t\tdialog.action = 'create';\r\n\r\n\t\t\tHelper.set(dialog);\r\n\r\n\t\t\tHelper.customDialog(dialog)\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\tHelper.notify('Appraisal Period created.');\r\n\t\t\t\t\t$scope.refresh();\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\t/* Action originates from toolbar */\r\n\t\t$scope.$on('search', function(){\r\n\t\t\t$scope.showInactive = true;\r\n\t\t\t$scope.request.search = $scope.toolbar.searchText;\r\n\t\t\t$scope.refresh();\r\n\t\t});\r\n\r\n\t\t/* Listens for any request for refresh */\r\n\t\t$scope.$on('refresh', function(){\r\n\t\t\t$scope.showInactive = false;\r\n\t\t\t$scope.request.search = null;\r\n\t\t\t$scope.$broadcast('close');\r\n\t\t\t$scope.refresh();\r\n\t\t});\r\n\r\n\t\t$scope.updateModel = function(data){\r\n\t\t\tvar dialog = {\r\n\t\t\t\t'template':'/app/components/settings/templates/dialogs/appraisal-period-dialog.template.html',\r\n\t\t\t\t'controller': 'appraisalPeriodDialogController',\r\n\t\t\t}\r\n\r\n\t\t\tdata.action = 'edit';\r\n\r\n\t\t\tHelper.set(data);\r\n\r\n\t\t\tHelper.customDialog(dialog)\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\t$scope.refresh();\r\n\t\t\t\t\tHelper.notify('Appraisal Period updated.');\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.deleteModel = function(data){\r\n\t\t\tvar dialog = {};\r\n\t\t\tdialog.title = 'Delete';\r\n\t\t\tdialog.message = 'Delete ' + data.appraisal_year + '?'\r\n\t\t\tdialog.ok = 'Delete';\r\n\t\t\tdialog.cancel = 'Cancel';\r\n\r\n\t\t\tHelper.confirm(dialog)\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\tHelper.delete(route + '/' + data.id)\r\n\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\t$scope.refresh();\r\n\t\t\t\t\t\t\tHelper.notify('Appraisal Period deleted.');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\tHelper.error();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t/* Formats every data in the paginated call */\r\n\t\tvar pushItem = function(data){\r\n\t\t\tdata.deleted_at =  data.deleted_at ? new Date(data.deleted_at) : null;\r\n\t\t\tdata.start = new Date(data.start);\r\n\t\t\tdata.end = new Date(data.end);\r\n\t\t\tdata.hideDelete = data.appraisal_forms_count ? true : false;\r\n\r\n\t\t\tvar item = {};\r\n\r\n\t\t\titem.display = data.appraisal_year;\r\n\r\n\t\t\t$scope.toolbar.items.push(item);\r\n\t\t}\r\n\r\n\t\t$scope.init = function(query){\r\n\t\t\t$scope.model = {};\r\n\t\t\t$scope.model.items = [];\r\n\t\t\t$scope.toolbar.items = [];\r\n\r\n\t\t\t// 2 is default so the next page to be loaded will be page 2 \r\n\t\t\t$scope.model.page = 2;\r\n\r\n\t\t\tHelper.post(route + '/enlist', query)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.model.details = data;\r\n\t\t\t\t\t$scope.model.items = data.data;\r\n\t\t\t\t\t$scope.model.show = true;\r\n\r\n\t\t\t\t\t$scope.fab.show = true;\r\n\r\n\t\t\t\t\tif(data.data.length){\r\n\t\t\t\t\t\t// iterate over each record and set the format\r\n\t\t\t\t\t\tangular.forEach(data.data, function(item){\r\n\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$scope.model.paginateLoad = function(){\r\n\t\t\t\t\t\t// kills the function if ajax is busy or pagination reaches last page\r\n\t\t\t\t\t\tif($scope.model.busy || ($scope.model.page > $scope.model.details.last_page)){\r\n\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t * Executes pagination call\r\n\t\t\t\t\t\t *\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t// sets to true to disable pagination call if still busy.\r\n\t\t\t\t\t\t$scope.model.busy = true;\r\n\t\t\t\t\t\t$scope.isLoading = true;\r\n\t\t\t\t\t\t// Calls the next page of pagination.\r\n\t\t\t\t\t\tHelper.post(route + '/enlist' + '?page=' + $scope.model.page, query)\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t// increment the page to set up next page for next AJAX Call\r\n\t\t\t\t\t\t\t\t$scope.model.page++;\r\n\r\n\t\t\t\t\t\t\t\t// iterate over each data then splice it to the data array\r\n\t\t\t\t\t\t\t\tangular.forEach(data.data, function(item, key){\r\n\t\t\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t\t\t\t$scope.model.items.push(item);\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t// Enables again the pagination call for next call.\r\n\t\t\t\t\t\t\t\t$scope.model.busy = false;\r\n\t\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.refresh = function(){\r\n\t\t\t$scope.isLoading = true;\r\n  \t\t\t$scope.model.show = false;\r\n\r\n  \t\t\t$scope.init($scope.request);\r\n\t\t};\r\n\r\n\t\t$scope.request = {};\r\n\r\n\t\t$scope.request.withTrashed = true;\r\n\t\t$scope.request.paginate = 20;\t\r\n\t\t$scope.request.withCount = [\r\n\t\t\t{\r\n\t\t\t\t'relation':'appraisal_forms',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t$scope.isLoading = true;\r\n\t\t$scope.$broadcast('close');\r\n\r\n\t\t$scope.init($scope.request);\r\n\t}]);","app\r\n\t.controller('departmentsContentContainerController', ['$scope', '$state', 'Helper', function($scope, $state, Helper){\r\n\t\t$scope.$emit('closeSidenav');\r\n\r\n\t\t$scope.state = $state.current.name;\r\n\t\t/*\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\r\n\t\t$scope.toolbar.toggleActive = function(){\r\n\t\t\t$scope.showInactive = !$scope.showInactive;\r\n\t\t}\r\n\t\t$scope.toolbar.sortBy = function(filter){\r\n\t\t\tfilter.sortReverse = !filter.sortReverse;\t\t\t\r\n\t\t\t$scope.sortType = filter.type;\r\n\t\t\t$scope.sortReverse = filter.sortReverse;\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t * Object for fab\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\t\t$scope.fab.icon = 'mdi-plus';\r\n\r\n\t\t$scope.fab.label = 'Users';\r\n\r\n\t\t$scope.fab.action = function(){\r\n\t\t\tvar dialog = {\r\n\t\t\t\t'template':'/app/components/settings/templates/dialogs/department-dialog.template.html',\r\n\t\t\t\t'controller': 'departmentDialogController',\r\n\t\t\t}\r\n\r\n\t\t\tdialog.action = 'create';\r\n\r\n\t\t\tHelper.set(dialog);\r\n\r\n\t\t\tHelper.customDialog(dialog)\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\tHelper.notify('Department created.');\r\n\t\t\t\t\t$scope.refresh();\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\t/* Action originates from toolbar */\r\n\t\t$scope.$on('search', function(){\r\n\t\t\t$scope.showInactive = true;\r\n\t\t\t$scope.request.search = $scope.toolbar.searchText;\r\n\t\t\t$scope.refresh();\r\n\t\t});\r\n\r\n\t\t/* Listens for any request for refresh */\r\n\t\t$scope.$on('refresh', function(){\r\n\t\t\t$scope.showInactive = false;\r\n\t\t\t$scope.request.search = null;\r\n\t\t\t$scope.$broadcast('close');\r\n\t\t\t$scope.refresh();\r\n\t\t});\r\n\r\n\t\t$scope.updateModel = function(data){\r\n\t\t\tvar dialog = {\r\n\t\t\t\t'template':'/app/components/settings/templates/dialogs/department-dialog.template.html',\r\n\t\t\t\t'controller': 'departmentDialogController',\r\n\t\t\t}\r\n\r\n\t\t\tdata.action = 'edit';\r\n\r\n\t\t\tHelper.set(data);\r\n\r\n\t\t\tHelper.customDialog(dialog)\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\t$scope.refresh();\r\n\t\t\t\t\tHelper.notify('Department updated.');\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.deleteModel = function(data){\r\n\t\t\tvar dialog = {};\r\n\t\t\tdialog.title = 'Delete';\r\n\t\t\tdialog.message = 'Delete ' + data.name + '?'\r\n\t\t\tdialog.ok = 'Delete';\r\n\t\t\tdialog.cancel = 'Cancel';\r\n\r\n\t\t\tHelper.confirm(dialog)\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\tHelper.delete('/department/' + data.id)\r\n\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\t$scope.refresh();\r\n\t\t\t\t\t\t\tHelper.notify('Department deleted.');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\tHelper.error();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t/* Formats every data in the paginated call */\r\n\t\tvar pushItem = function(data){\r\n\t\t\tdata.deleted_at =  data.deleted_at ? new Date(data.deleted_at) : null;\r\n\t\t\tdata.hideDelete = data.users_count ? true : false;\r\n\r\n\t\t\tvar item = {};\r\n\r\n\t\t\titem.display = data.name;\r\n\r\n\t\t\t$scope.toolbar.items.push(item);\r\n\t\t}\r\n\r\n\t\t$scope.init = function(query){\r\n\t\t\t$scope.model = {};\r\n\t\t\t$scope.model.items = [];\r\n\t\t\t$scope.toolbar.items = [];\r\n\r\n\t\t\t// 2 is default so the next page to be loaded will be page 2 \r\n\t\t\t$scope.model.page = 2;\r\n\r\n\t\t\tHelper.post('/department/enlist', query)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.model.details = data;\r\n\t\t\t\t\t$scope.model.items = data.data;\r\n\t\t\t\t\t$scope.model.show = true;\r\n\r\n\t\t\t\t\t$scope.fab.show = true;\r\n\r\n\t\t\t\t\tif(data.data.length){\r\n\t\t\t\t\t\t// iterate over each record and set the format\r\n\t\t\t\t\t\tangular.forEach(data.data, function(item){\r\n\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$scope.model.paginateLoad = function(){\r\n\t\t\t\t\t\t// kills the function if ajax is busy or pagination reaches last page\r\n\t\t\t\t\t\tif($scope.model.busy || ($scope.model.page > $scope.model.details.last_page)){\r\n\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t * Executes pagination call\r\n\t\t\t\t\t\t *\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t// sets to true to disable pagination call if still busy.\r\n\t\t\t\t\t\t$scope.model.busy = true;\r\n\t\t\t\t\t\t$scope.isLoading = true;\r\n\t\t\t\t\t\t// Calls the next page of pagination.\r\n\t\t\t\t\t\tHelper.post('/department/enlist' + '?page=' + $scope.model.page, query)\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t// increment the page to set up next page for next AJAX Call\r\n\t\t\t\t\t\t\t\t$scope.model.page++;\r\n\r\n\t\t\t\t\t\t\t\t// iterate over each data then splice it to the data array\r\n\t\t\t\t\t\t\t\tangular.forEach(data.data, function(item, key){\r\n\t\t\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t\t\t\t$scope.model.items.push(item);\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t// Enables again the pagination call for next call.\r\n\t\t\t\t\t\t\t\t$scope.model.busy = false;\r\n\t\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.refresh = function(){\r\n\t\t\t$scope.isLoading = true;\r\n  \t\t\t$scope.model.show = false;\r\n\r\n  \t\t\t$scope.init($scope.request);\r\n\t\t};\r\n\r\n\t\t$scope.request = {};\r\n\r\n\t\t$scope.request.withTrashed = true;\r\n\t\t$scope.request.paginate = 20;\t\r\n\t\t$scope.request.with = [\r\n\t\t\t{\r\n\t\t\t\t'relation':'accounts',\r\n\t\t\t\t'withTrashed':false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation':'heads',\r\n\t\t\t\t'withTrashed':false,\r\n\t\t\t},\r\n\t\t];\r\n\t\t$scope.request.withCount = [\r\n\t\t\t{\r\n\t\t\t\t'relation':'users',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t$scope.isLoading = true;\r\n\t\t$scope.$broadcast('close');\r\n\r\n\t\t$scope.init($scope.request);\r\n\t}]);","app\r\n\t.controller('usersContentContainerController', ['$scope', '$state', 'Helper', function($scope, $state, Helper){\r\n\t\t$scope.$emit('closeSidenav');\r\n\r\n\t\t$scope.state = $state.current.name;\r\n\t\t/*\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\r\n\t\t$scope.toolbar.toggleActive = function(){\r\n\t\t\t$scope.showInactive = !$scope.showInactive;\r\n\t\t}\r\n\t\t$scope.toolbar.sortBy = function(filter){\r\n\t\t\tfilter.sortReverse = !filter.sortReverse;\t\t\t\r\n\t\t\t$scope.sortType = filter.type;\r\n\t\t\t$scope.sortReverse = filter.sortReverse;\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t * Object for fab\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\t\t$scope.fab.icon = 'mdi-plus';\r\n\r\n\t\t$scope.fab.label = 'Users';\r\n\r\n\t\t$scope.fab.action = function(){\r\n\t\t\tvar dialog = {\r\n\t\t\t\t'template':'/app/components/settings/templates/dialogs/user-dialog.template.html',\r\n\t\t\t\t'controller': 'userDialogController',\r\n\t\t\t}\r\n\r\n\t\t\tdialog.action = 'create';\r\n\r\n\t\t\tHelper.set(dialog);\r\n\r\n\t\t\tHelper.customDialog(dialog)\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\tHelper.notify('User created.');\r\n\t\t\t\t\t$scope.refresh();\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\t/* Action originates from toolbar */\r\n\t\t$scope.$on('search', function(){\r\n\t\t\t$scope.showInactive = true;\r\n\t\t\t$scope.request.search = $scope.toolbar.searchText;\r\n\t\t\t$scope.refresh();\r\n\t\t});\r\n\r\n\t\t/* Listens for any request for refresh */\r\n\t\t$scope.$on('refresh', function(){\r\n\t\t\t$scope.showInactive = false;\r\n\t\t\t$scope.request.search = null;\r\n\t\t\t$scope.$broadcast('close');\r\n\t\t\t$scope.refresh();\r\n\t\t});\r\n\r\n\t\t$scope.updateModel = function(data){\r\n\t\t\tvar dialog = {\r\n\t\t\t\t'template':'/app/components/settings/templates/dialogs/user-dialog.template.html',\r\n\t\t\t\t'controller': 'userDialogController',\r\n\t\t\t}\r\n\r\n\t\t\tdata.action = 'edit';\r\n\r\n\t\t\tHelper.set(data);\r\n\r\n\t\t\tHelper.customDialog(dialog)\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\t$scope.refresh();\r\n\t\t\t\t\tHelper.notify('User updated.');\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.resetPassword = function(data){\r\n\t\t\tvar dialog = {};\r\n\t\t\tdialog.title = 'Reset Password';\r\n\t\t\tdialog.message = 'Password will be reset to \"!welcome10\"';\r\n\t\t\tdialog.ok = 'Reset Password';\r\n\t\t\tdialog.cancel = 'Cancel';\r\n\r\n\t\t\tHelper.confirm(dialog)\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\tHelper.post('/user/reset-password', data)\r\n\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\t$scope.refresh();\r\n\t\t\t\t\t\t\tHelper.notify('Reset password succesful.');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\tHelper.error();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.deleteModel = function(data){\r\n\t\t\tvar dialog = {};\r\n\t\t\tdialog.title = 'Delete';\r\n\t\t\tdialog.message = 'Delete ' + data.name + '?'\r\n\t\t\tdialog.ok = 'Delete';\r\n\t\t\tdialog.cancel = 'Cancel';\r\n\r\n\t\t\tHelper.confirm(dialog)\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\tHelper.delete('/user/' + data.id)\r\n\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\t$scope.refresh();\r\n\t\t\t\t\t\t\tHelper.notify('User deleted.');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\tHelper.error();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t/* Formats every data in the paginated call */\r\n\t\tvar pushItem = function(data){\r\n\t\t\tdata.deleted_at =  data.deleted_at ? new Date(data.deleted_at) : null;\r\n\r\n\t\t\tvar item = {};\r\n\r\n\t\t\titem.display = data.name;\r\n\r\n\t\t\t$scope.toolbar.items.push(item);\r\n\t\t}\r\n\r\n\t\t$scope.init = function(query){\r\n\t\t\t$scope.model = {};\r\n\t\t\t$scope.model.items = [];\r\n\t\t\t$scope.toolbar.items = [];\r\n\r\n\t\t\t// 2 is default so the next page to be loaded will be page 2 \r\n\t\t\t$scope.model.page = 2;\r\n\r\n\t\t\tHelper.post('/user/enlist', query)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.model.details = data;\r\n\t\t\t\t\t$scope.model.items = data.data;\r\n\t\t\t\t\t$scope.model.show = true;\r\n\r\n\t\t\t\t\t$scope.fab.show = true;\r\n\r\n\t\t\t\t\tif(data.data.length){\r\n\t\t\t\t\t\t// iterate over each record and set the format\r\n\t\t\t\t\t\tangular.forEach(data.data, function(item){\r\n\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$scope.model.paginateLoad = function(){\r\n\t\t\t\t\t\t// kills the function if ajax is busy or pagination reaches last page\r\n\t\t\t\t\t\tif($scope.model.busy || ($scope.model.page > $scope.model.details.last_page)){\r\n\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t * Executes pagination call\r\n\t\t\t\t\t\t *\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t// sets to true to disable pagination call if still busy.\r\n\t\t\t\t\t\t$scope.model.busy = true;\r\n\t\t\t\t\t\t$scope.isLoading = true;\r\n\t\t\t\t\t\t// Calls the next page of pagination.\r\n\t\t\t\t\t\tHelper.post('/user/enlist' + '?page=' + $scope.model.page, query)\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t// increment the page to set up next page for next AJAX Call\r\n\t\t\t\t\t\t\t\t$scope.model.page++;\r\n\r\n\t\t\t\t\t\t\t\t// iterate over each data then splice it to the data array\r\n\t\t\t\t\t\t\t\tangular.forEach(data.data, function(item, key){\r\n\t\t\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t\t\t\t$scope.model.items.push(item);\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t// Enables again the pagination call for next call.\r\n\t\t\t\t\t\t\t\t$scope.model.busy = false;\r\n\t\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.refresh = function(){\r\n\t\t\t$scope.isLoading = true;\r\n  \t\t\t$scope.model.show = false;\r\n\r\n  \t\t\t$scope.init($scope.request);\r\n\t\t};\r\n\r\n\t\t$scope.request = {};\r\n\r\n\t\t$scope.request.withTrashed = true;\r\n\t\t$scope.request.paginate = 20;\t\r\n\t\t$scope.request.with = [\r\n\t\t\t{\r\n\t\t\t\t'relation':'department',\r\n\t\t\t\t'withTrashed':false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation':'departments',\r\n\t\t\t\t'withTrashed':false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation':'account',\r\n\t\t\t\t'withTrashed':false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation':'roles',\r\n\t\t\t\t'withTrashed':false,\r\n\t\t\t},\r\n\t\t]\r\n\t\t$scope.request.where = [\r\n\t\t\t{\r\n\t\t\t\t'label':'super_admin',\r\n\t\t\t\t'condition':'!=',\r\n\t\t\t\t'value':true,\r\n\t\t\t},\r\n\t\t]\r\n\t\t$scope.request.do_not_include_current_user = true;\r\n\r\n\r\n\t\t$scope.isLoading = true;\r\n\t\t$scope.$broadcast('close');\r\n\r\n\t\t$scope.init($scope.request);\r\n\t}]);","app\r\n\t.controller('supervisorReviewContentContainerController', ['$scope', '$filter', '$state', '$stateParams', 'Helper', function($scope, $filter, $state, $stateParams, Helper){\r\n\t\t$scope.$emit('closeSidenav');\r\n\r\n\t\tvar route = '/review';\r\n\r\n\t\tvar reviewID = $stateParams.reviewID;\r\n\r\n\t\t/*\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\r\n\t\t$scope.toolbar.parentState = 'Supervisor Review';\r\n\r\n\t\t$scope.toolbar.hideSearchIcon = true;\r\n\r\n\t\t/*\r\n\t\t * Object for fab\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {}\r\n\r\n\t\t$scope.fab.icon = 'mdi-check';\r\n\t\t$scope.fab.label = 'Submit';\r\n\t\t$scope.fab.show = true;\r\n\r\n\t\t$scope.fab.action = function(){\r\n\t\t\tif($scope.form.reviewForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.form.reviewForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar submit = function(){\r\n\t\t\t\tHelper.preload();\r\n\r\n\t\t\t\tif($scope.create)\r\n\t\t\t\t{\t\t\t\t\t\t\t\r\n\t\t\t\t\tHelper.post('/review/supervisor-response', $scope.review)\r\n\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\tHelper.stop();\r\n\t\t\t\t\t\t\t$state.go('main')\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\tHelper.failed()\r\n\t\t\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t\t\tsubmit();\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tHelper.post('/review/update-supervisor-response', $scope.review)\r\n\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\tHelper.stop();\r\n\t\t\t\t\t\t\tHelper.notify('Changes saved.')\r\n\t\t\t\t\t\t\t$state.go('main');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\tHelper.failed()\r\n\t\t\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t\t\tsubmit();\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tsubmit();\r\n\t\t}\r\n\r\n\t\t$scope.setRating = function(data){\r\n\t\t\tdata.raw_score = Math.floor(data.raw_score);\r\n\r\n\t\t\tif(data.raw_score < 70)\r\n\t\t\t{\r\n\t\t\t\tdata.supervisor_rating = 1;\r\n\t\t\t}\r\n\t\t\telse if(data.raw_score >= 70 && data.raw_score < 80)\r\n\t\t\t{\r\n\t\t\t\tdata.supervisor_rating = 2;\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if(data.raw_score >= 80 && data.raw_score < 90)\r\n\t\t\t{\r\n\t\t\t\tdata.supervisor_rating = 3;\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if(data.raw_score >= 90 && data.raw_score < 96)\r\n\t\t\t{\r\n\t\t\t\tdata.supervisor_rating = 4;\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if(data.raw_score >= 96 && data.raw_score <= 100)\r\n\t\t\t{\r\n\t\t\t\tdata.supervisor_rating = 5;\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t * Object for request\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.request = {};\r\n\r\n\t\t$scope.request.withTrashed = false;\r\n\t\t$scope.request.first = true;\t\r\n\t\t$scope.request.with = [\r\n\t\t\t{\r\n\t\t\t\t'relation':'appraisal_form.appraisal_period',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation':'goals.goal',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation':'goals.supervisor_goal_responses.user',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation':'behavioral_competencies.behavioral_competency',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation':'behavioral_competencies.supervisor_behavioral_competency_responses.user',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation': 'user',\r\n\t\t\t\t'withTrashed': false,\t\r\n\t\t\t}\r\n\t\t];\r\n\t\t$scope.request.where = [\r\n\t\t\t{\r\n\t\t\t\t'label': 'id',\r\n\t\t\t\t'condition': '=',\r\n\t\t\t\t'value': reviewID,\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t$scope.init = function(query){\t\t\r\n\t\t\tvar userCheck = function(){\r\n\t\t\t\tHelper.post('/user/check')\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\tvar user = data;\r\n\r\n\t\t\t\t\t\tvar review = function(){\r\n\t\t\t\t\t\t\tHelper.post(route + '/enlist', query)\r\n\t\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t\tif(!data || (!data.goals.length && !data.behavioral_competencies.length))\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t$state.go('page-not-found');\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tdata.appraisal_form.appraisal_period.start = new Date(data.appraisal_form.appraisal_period.start);\r\n\t\t\t\t\t\t\t\t\tdata.appraisal_form.appraisal_period.end = new Date(data.appraisal_form.appraisal_period.end);\r\n\r\n\t\t\t\t\t\t\t\t\t$scope.toolbar.childState = data.user.last_name + ', ' + data.user.first_name + ' ' + data.user.middle_name.charAt(0).toUpperCase() +'.';\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tangular.forEach(data.behavioral_competencies, function(item){\r\n\t\t\t\t\t\t\t\t\t\titem.supervisor_rating = 3;\r\n\t\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t\t$scope.review = data;\r\n\r\n\t\t\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\t\tHelper.failed()\r\n\t\t\t\t\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t\t\t\t\treview(query);\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treview(query);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\tHelper.failed()\r\n\t\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t\tuserCheck();\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tuserCheck();\r\n\t\t}\r\n\r\n\t\t$scope.refresh = function(){\r\n\t\t\t$scope.isLoading = true;\r\n\r\n  \t\t\t$scope.init($scope.request);\r\n\t\t};\r\n\r\n\t\t$scope.isLoading = true;\r\n\t\t$scope.init($scope.request);\r\n\t}]);","app\r\n\t.controller('teamReviewsContentContainerController', ['$scope', '$state', 'Helper', function($scope, $state, Helper){\r\n\t\t$scope.$emit('closeSidenav');\r\n\r\n\t\tvar route = '/appraisal-form';\r\n\r\n\t\t/*\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\r\n\t\t$scope.toolbar.toggleActive = function(){\r\n\t\t\t$scope.showInactive = !$scope.showInactive;\r\n\t\t}\r\n\t\t$scope.toolbar.sortBy = function(filter){\r\n\t\t\tfilter.sortReverse = !filter.sortReverse;\t\t\t\r\n\t\t\t$scope.sortType = filter.type;\r\n\t\t\t$scope.sortReverse = filter.sortReverse;\r\n\t\t}\r\n\r\n\t\tvar setInit = function(){\r\n\t\t\tHelper.post('/user/check')\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.request = {};\r\n\r\n\t\t\t\t\t$scope.request.withTrashed = false;\r\n\t\t\t\t\t$scope.request.paginate = 20;\t\r\n\t\t\t\t\t$scope.request.with = [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'relation': 'department',\r\n\t\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'relation': 'appraisal_period',\r\n\t\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'relation':'reviews.user',\r\n\t\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t\t\r\n\t\t\t\t\t$scope.request.where = [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'label': 'department_id',\r\n\t\t\t\t\t\t\t'condition': '=',\r\n\t\t\t\t\t\t\t'value': data.department_id,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\r\n\t\t\t\t\t$scope.isLoading = true;\r\n\t\t\t\t\t$scope.$broadcast('close');\r\n\r\n\t\t\t\t\t$scope.init($scope.request);\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tHelper.failed()\r\n\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\tsetInit();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t/* Formats every data in the paginated call */\r\n\t\tvar pushItem = function(data){\r\n\t\t\tdata.appraisal_period.start = new Date(data.appraisal_period.start);\r\n\t\t\tdata.appraisal_period.end = new Date(data.appraisal_period.end);\r\n\r\n\t\t\tdata.pending_reviews = [];\r\n\t\t\tdata.done_reviews = [];\r\n\r\n\t\t\tangular.forEach(data.reviews, function(review){\r\n\t\t\t\tif(review.overall_rating)\r\n\t\t\t\t{\r\n\t\t\t\t\tdata.done_reviews.push(review)\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tdata.pending_reviews.push(review)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tvar item = {};\r\n\r\n\t\t\titem.display = data.appraisal_period.appraisal_year;\r\n\r\n\t\t\t$scope.toolbar.items.push(item);\r\n\t\t}\r\n\r\n\t\t$scope.view = function(id){\r\n\t\t\t$state.go('main.review', {'reviewID':id});\r\n\t\t}\r\n\r\n\t\t$scope.init = function(query){\r\n\t\t\t$scope.appraisal_form = {};\r\n\t\t\t$scope.appraisal_form.items = [];\r\n\t\t\t$scope.toolbar.items = [];\r\n\r\n\t\t\t// 2 is default so the next page to be loaded will be page 2 \r\n\t\t\t$scope.appraisal_form.page = 2;\r\n\r\n\t\t\tvar fetch = function(query){\t\t\t\t\r\n\t\t\t\tHelper.post(route + '/enlist', query)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t$scope.appraisal_form.details = data;\r\n\t\t\t\t\t\t$scope.appraisal_form.items = data.data;\r\n\t\t\t\t\t\t$scope.appraisal_form.show = true;\r\n\r\n\t\t\t\t\t\tif(data.data.length){\r\n\t\t\t\t\t\t\t// iterate over each record and set the format\r\n\t\t\t\t\t\t\tangular.forEach(data.data, function(item){\r\n\t\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t$scope.appraisal_form.paginateLoad = function(){\r\n\t\t\t\t\t\t\t// kills the function if ajax is busy or pagination reaches last page\r\n\t\t\t\t\t\t\tif($scope.appraisal_form.busy || ($scope.appraisal_form.page > $scope.appraisal_form.details.last_page)){\r\n\t\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t\t * Executes pagination call\r\n\t\t\t\t\t\t\t *\r\n\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t// sets to true to disable pagination call if still busy.\r\n\t\t\t\t\t\t\t$scope.appraisal_form.busy = true;\r\n\t\t\t\t\t\t\t$scope.isLoading = true;\r\n\t\t\t\t\t\t\t// Calls the next page of pagination.\r\n\t\t\t\t\t\t\tHelper.post(route + '/enlist' + '?page=' + $scope.appraisal_form.page, query)\r\n\t\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t\t// increment the page to set up next page for next AJAX Call\r\n\t\t\t\t\t\t\t\t\t$scope.appraisal_form.page++;\r\n\r\n\t\t\t\t\t\t\t\t\t// iterate over each data then splice it to the data array\r\n\t\t\t\t\t\t\t\t\tangular.forEach(data.data, function(item, key){\r\n\t\t\t\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t\t\t\t\t$scope.appraisal_form.items.push(item);\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t// Enables again the pagination call for next call.\r\n\t\t\t\t\t\t\t\t\t$scope.appraisal_form.busy = false;\r\n\t\t\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\t\tHelper.failed()\r\n\t\t\t\t\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t\t\t\t\t$scope.appraisal_form.paginateLoad();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\tHelper.failed()\r\n\t\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t\tfetch(query);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tfetch(query);\r\n\t\t}\r\n\r\n\t\t$scope.refresh = function(){\r\n\t\t\t$scope.isLoading = true;\r\n  \t\t\t$scope.appraisal_form.show = false;\r\n\r\n  \t\t\t$scope.init($scope.request);\r\n\t\t};\r\n\r\n\t\tsetInit();\r\n\t}]);","app\r\n\t.controller('appraisalFormDialogController', ['$scope', '$state', 'Helper', function($scope, $state, Helper){\r\n\t\tvar appraisalFormID = Helper.fetch();\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\tHelper.cancel();\r\n\t\t}\r\n\r\n\t\t$scope.manageEmployees = function(){\r\n\t\t\tHelper.stop();\r\n\r\n\t\t\t$state.go('main.manage-appraisal-form-employees', {'appraisalFormID': appraisalFormID});\r\n\t\t}\r\n\r\n\t\t$scope.update = function(){\r\n\t\t\tHelper.stop();\r\n\r\n\t\t\t$state.go('main.manage-appraisal-forms', {'appraisalFormID': appraisalFormID});\r\n\t\t}\r\n\r\n\t\t$scope.delete = function(){\r\n\t\t\tHelper.stop($scope.appraisal_form);\r\n\t\t}\r\n\r\n\t\tvar query = {};\r\n\r\n\t\tquery.with = [\r\n\t\t\t{\r\n\t\t\t\t'relation': 'department',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation': 'goals',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation': 'behavioral_competencies',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation': 'reviews.user',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\tquery.where = [\r\n\t\t\t{\r\n\t\t\t\t'label': 'id',\r\n\t\t\t\t'condition': '=',\r\n\t\t\t\t'value': appraisalFormID,\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\tquery.first = true;\r\n\r\n\t\tHelper.post('/appraisal-form/enlist', query)\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.appraisal_form = data;\r\n\t\t\t})\r\n\t\t\t.error(function(){\r\n\t\t\t\tHelper.error();\r\n\t\t\t});\r\n\t}]);","app\r\n\t.controller('appraisalFormsToolbarController', ['$scope', '$filter', function($scope, $filter){\r\n\t\t$scope.toolbar.childState = 'Appraisal Forms';\r\n\r\n\t\t$scope.$on('close', function(){\r\n\t\t\t$scope.hideSearchBar();\r\n\t\t});\r\n\r\n\t\t$scope.toolbar.getItems = function(query){\r\n\t\t\tvar results = query ? $filter('filter')($scope.toolbar.items, query) : $scope.toolbar.items;\r\n\t\t\treturn results;\r\n\t\t}\r\n\r\n\t\t$scope.toolbar.searchAll = true;\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t$scope.model.busy = true;\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.searchBar = false;\r\n\t\t\t$scope.toolbar.searchText = '';\r\n\t\t\t$scope.toolbar.searchItem = '';\r\n\t\t\t/* Cancels the paginate when the user sent a query */\r\n\t\t\tif($scope.searched){\r\n\t\t\t\t$scope.model.page = 1;\r\n\t\t\t\t$scope.model.items = [];\r\n\t\t\t\t$scope.searched = false;\r\n\t\t\t\t$scope.$emit('refresh');\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.$emit('search');\r\n\t\t\t$scope.searched = true;\r\n\t\t};\r\n\r\n\t\t$scope.toolbar.options = true;\r\n\t\t$scope.toolbar.showInactive = true;\r\n\r\n\t\t$scope.toolbar.sort = [\r\n\t\t\t{\r\n\t\t\t\t'label': 'Appraisal Year',\r\n\t\t\t\t'type': 'appraisal_year',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'Department',\r\n\t\t\t\t'type': 'department',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'Recently added',\r\n\t\t\t\t'type': 'created_at',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t$scope.toolbar.refresh = function(){\r\n\t\t\t$scope.$emit('refresh');\r\n\t\t}\r\n\t}]);","app\r\n\t.controller('reviewsToolbarController', ['$scope', '$filter', function($scope, $filter){\r\n\t\t$scope.toolbar.childState = 'Home';\r\n\r\n\t\t$scope.$on('close', function(){\r\n\t\t\t$scope.hideSearchBar();\r\n\t\t});\r\n\r\n\t\t$scope.toolbar.getItems = function(query){\r\n\t\t\tvar results = query ? $filter('filter')($scope.toolbar.items, query) : $scope.toolbar.items;\r\n\t\t\treturn results;\r\n\t\t}\r\n\r\n\t\t$scope.toolbar.searchAll = true;\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t$scope.model.busy = true;\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.searchBar = false;\r\n\t\t\t$scope.toolbar.searchText = '';\r\n\t\t\t$scope.toolbar.searchItem = '';\r\n\t\t\t/* Cancels the paginate when the user sent a query */\r\n\t\t\tif($scope.searched){\r\n\t\t\t\t$scope.model.page = 1;\r\n\t\t\t\t$scope.model.items = [];\r\n\t\t\t\t$scope.searched = false;\r\n\t\t\t\t$scope.$emit('refresh');\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.$emit('search');\r\n\t\t\t$scope.searched = true;\r\n\t\t};\r\n\r\n\t\t$scope.toolbar.options = true;\r\n\t\t$scope.toolbar.showInactive = true;\r\n\r\n\t\t$scope.toolbar.sort = [\r\n\t\t\t{\r\n\t\t\t\t'label': 'Start',\r\n\t\t\t\t'type': 'start',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'End',\r\n\t\t\t\t'type': 'end',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'Appraisal Year',\r\n\t\t\t\t'type': 'appraisal_year',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'Recently added',\r\n\t\t\t\t'type': 'created_at',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t$scope.toolbar.refresh = function(){\r\n\t\t\t$scope.$emit('refresh');\r\n\t\t}\r\n\t}]);","app\r\n\t.controller('appraisalPeriodDialogController', ['$scope', 'Helper', function($scope, Helper){\r\n\t\t$scope.config = Helper.fetch();\r\n\r\n\t\tvar route = '/appraisal-period';\r\n\r\n\t\t$scope.years = [];\r\n\r\n\t\tfor (var i = new Date().getFullYear(); i >= 2016; i--) {\r\n\t\t\t$scope.years.push(i);\r\n\t\t}\r\n\r\n\t\t$scope.minDate = new Date('12/01/2015');\r\n\t\t$scope.today = new Date();\r\n\r\n\t\tif($scope.config.action == 'create')\r\n\t\t{\r\n\t\t\t$scope.appraisal_period = {};\r\n\r\n\t\t\t$scope.appraisal_period.start = new Date(new Date().getFullYear()-2, 11, 1);\r\n\t\t\t$scope.appraisal_period.end = new Date(new Date().getFullYear()-1, 10, 30);\r\n\t\t}\r\n\t\telse if($scope.config.action == 'edit')\r\n\t\t{\r\n\t\t\tvar query = {}\r\n\r\n\t\t\tquery.where = [\r\n\t\t\t\t{\r\n\t\t\t\t\t'label': 'id',\r\n\t\t\t\t\t'condition': '=',\r\n\t\t\t\t\t'value': $scope.config.id,\r\n\t\t\t\t}\r\n\t\t\t];\r\n\r\n\t\t\tquery.first = true;\r\n\r\n\t\t\tHelper.post(route + '/enlist', query)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tdata.start = new Date(data.start);\r\n\t\t\t\t\tdata.end = new Date(data.end);\r\n\t\t\t\t\t$scope.appraisal_period = data;\r\n\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tHelper.error();\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.duplicate = false;\r\n\r\n\t\t$scope.busy = false;\r\n\r\n\t\t$scope.setBehavorial = function(){\r\n\t\t\t$scope.appraisal_period.behavioral_competency_percentage = 100 - $scope.appraisal_period.goals_percentage;\r\n\t\t}\r\n\r\n\t\t$scope.setGoals = function(){\r\n\t\t\t$scope.appraisal_period.goals_percentage = 100 - $scope.appraisal_period.behavioral_competency_percentage;\r\n\t\t}\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\tHelper.cancel();\r\n\t\t}\t\t\r\n\r\n\t\t$scope.checkDuplicate = function(){\r\n\t\t\tHelper.post(route + '/check-duplicate', $scope.appraisal_period)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.duplicate = data;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\tvar revertDates = function(){\r\n\t\t\t$scope.appraisal_period.start = new Date($scope.appraisal_period.start);\r\n\t\t\t$scope.appraisal_period.end = new Date($scope.appraisal_period.end);\r\n\t\t}\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\tif($scope.appraisalPeriodForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.appraisalPeriodForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t$scope.appraisal_period.start = new Date($scope.appraisal_period.start).toDateString();\r\n\t\t\t$scope.appraisal_period.end = new Date($scope.appraisal_period.end).toDateString();\r\n\r\n\t\t\tif(!$scope.duplicate)\r\n\t\t\t{\r\n\t\t\t\t$scope.busy = true;\r\n\r\n\t\t\t\tif($scope.config.action == 'create')\r\n\t\t\t\t{\r\n\t\t\t\t\tHelper.post(route, $scope.appraisal_period)\r\n\t\t\t\t\t\t.success(function(duplicate){\r\n\t\t\t\t\t\t\tif(duplicate){\r\n\t\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tHelper.stop();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\t$scope.error = true;\r\n\r\n\t\t\t\t\t\t\trevertDates();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\telse if($scope.config.action == 'edit')\r\n\t\t\t\t{\r\n\t\t\t\t\tHelper.put(route + '/' + $scope.config.id, $scope.appraisal_period)\r\n\t\t\t\t\t\t.success(function(duplicate){\r\n\t\t\t\t\t\t\tif(duplicate){\r\n\t\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tHelper.stop();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\t$scope.error = true;\r\n\r\n\t\t\t\t\t\t\trevertDates();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}]);","app\r\n\t.controller('departmentDialogController', ['$scope', 'Helper', function($scope, Helper){\r\n\t\t$scope.config = Helper.fetch();\r\n\r\n\t\tvar route = '/department';\r\n\r\n\t\tif($scope.config.action == 'create')\r\n\t\t{\r\n\t\t\t$scope.department = {};\r\n\t\t\t$scope.department.accounts = [];\r\n\t\t}\r\n\t\telse if($scope.config.action == 'edit')\r\n\t\t{\r\n\t\t\tvar query = {}\r\n\r\n\t\t\tquery.with = [\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation': 'accounts.users',\r\n\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t},\r\n\t\t\t];\r\n\r\n\t\t\tquery.where = [\r\n\t\t\t\t{\r\n\t\t\t\t\t'label': 'id',\r\n\t\t\t\t\t'condition': '=',\r\n\t\t\t\t\t'value': $scope.config.id,\r\n\t\t\t\t}\r\n\t\t\t];\r\n\r\n\t\t\tquery.first = true;\r\n\r\n\t\t\tHelper.post(route + '/enlist', query)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.department = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tHelper.error();\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.add = function(){\r\n\t\t\t$scope.department.accounts.push({});\r\n\t\t}\r\n\r\n\t\t$scope.remove = function(idx){\r\n\t\t\tif($scope.config.action == 'edit' && $scope.department.accounts[idx].id)\r\n\t\t\t{\r\n\t\t\t\tHelper.delete('/account/' + $scope.department.accounts[idx].id)\r\n\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t$scope.department.accounts.splice(idx, 1);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t$scope.error = true;\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t$scope.department.accounts.splice(idx, 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$scope.duplicate = false;\r\n\r\n\t\t$scope.busy = false;\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\tHelper.cancel();\r\n\t\t}\t\t\r\n\r\n\t\t$scope.checkDuplicate = function(){\r\n\t\t\tHelper.post(route + '/check-duplicate', $scope.department)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.duplicate = data;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\tvar checkEveryItem = function(item, idx){\r\n\t\t\tangular.forEach($scope.department.accounts, function(account, key){\r\n\t\t\t\tif(item.name == account.name && idx != key)\r\n\t\t\t\t{\r\n\t\t\t\t\t$scope.duplicate_accounts = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.checkDuplicateAccount = function(item, idx){\r\n\t\t\titem.duplicate = false; \r\n\t\t\t$scope.duplicate_accounts = false; \r\n\r\n\t\t\tif($scope.config.action == 'edit')\r\n\t\t\t{\r\n\t\t\t\titem.department_id = $scope.department.id;\r\n\r\n\t\t\t\tHelper.post('/account' + '/check-duplicate', item)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t// item.duplicate = data;\r\n\t\t\t\t\t\t$scope.duplicate_accounts = data;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcheckEveryItem(item, idx);\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tcheckEveryItem(item, idx);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\tif($scope.departmentForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.departmentForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tangular.forEach($scope.department.accounts, function(item, idx){\r\n\t\t\t\tcheckEveryItem(item, idx);\r\n\t\t\t});\r\n\r\n\r\n\t\t\tif(!$scope.duplicate && !$scope.duplicate_accounts)\r\n\t\t\t{\r\n\t\t\t\t$scope.busy = true;\r\n\r\n\t\t\t\tif($scope.config.action == 'create')\r\n\t\t\t\t{\r\n\t\t\t\t\tHelper.post(route, $scope.department)\r\n\t\t\t\t\t\t.success(function(duplicate){\r\n\t\t\t\t\t\t\tif(duplicate){\r\n\t\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tHelper.stop();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\t$scope.error = true;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\telse if($scope.config.action == 'edit')\r\n\t\t\t\t{\r\n\t\t\t\t\tHelper.put(route + '/' + $scope.config.id, $scope.department)\r\n\t\t\t\t\t\t.success(function(duplicate){\r\n\t\t\t\t\t\t\tif(duplicate){\r\n\t\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tHelper.stop();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\t$scope.error = true;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}]);","app\r\n\t.controller('userDialogController', ['$scope', 'Helper', function($scope, Helper){\r\n\t\t$scope.config = Helper.fetch();\r\n\r\n\t\tHelper.get('/department')\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.departments = data;\r\n\t\t\t});\r\n\r\n\t\tHelper.get('/account')\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.accounts = data;\r\n\t\t\t});\t\t\r\n\r\n\t\tHelper.post('/role/enlist')\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.roles = data;\r\n\t\t\t})\r\n\r\n\t\tif($scope.config.action == 'create')\r\n\t\t{\r\n\t\t\t$scope.model = {};\r\n\t\t\t$scope.model.roles = [];\r\n\t\t}\r\n\t\telse if($scope.config.action == 'edit')\r\n\t\t{\r\n\t\t\tHelper.post('/role/enlist')\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.roles = data;\r\n\t\t\t\t\t$scope.count = $scope.roles.length;\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar user_query = {\r\n\t\t\t\t\t\t'with': [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'relation': 'departments',\r\n\t\t\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\t'where': [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'label': 'id',\r\n\t\t\t\t\t\t\t\t'condition': '=',\r\n\t\t\t\t\t\t\t\t'value': $scope.config.id,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\t'first': true,\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tHelper.post('/user/enlist' , user_query)\r\n\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t$scope.model = data;\r\n\t\t\t\t\t\t\t$scope.model.roles = [];\r\n\r\n\t\t\t\t\t\t\tangular.forEach($scope.roles, function(item, key){\r\n\t\t\t\t\t\t\t\t$scope.model.roles.push(null);\r\n\r\n\t\t\t\t\t\t\t\tvar query = {};\r\n\t\t\t\t\t\t\t\tquery.with = [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t'relation':'role',\r\n\t\t\t\t\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\t\tquery.where = [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t'label': 'user_id',\r\n\t\t\t\t\t\t\t\t\t\t'condition': '=',\r\n\t\t\t\t\t\t\t\t\t\t'value': $scope.model.id,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t'label': 'role_id',\r\n\t\t\t\t\t\t\t\t\t\t'condition': '=',\r\n\t\t\t\t\t\t\t\t\t\t'value': item.id,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\t\tquery.first = true;\r\n\r\n\t\t\t\t\t\t\t\tHelper.post('/user-role/enlist', query)\r\n\t\t\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t\t\t$scope.count--;\r\n\t\t\t\t\t\t\t\t\t\tif(data)\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t$scope.model.roles.splice(key, 1, data.role);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\t\t\t$scope.error();\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\tHelper.error();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.duplicate = false;\r\n\r\n\t\t$scope.busy = false;\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\tHelper.cancel();\r\n\t\t}\t\t\r\n\r\n\t\t$scope.checkDuplicate = function(){\r\n\t\t\tHelper.post('/user' + '/check-email', $scope.model)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.duplicate = data;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.checkDuplicateEmployeeNumber = function(){\r\n\t\t\tHelper.post('/user' + '/check-employee-number', $scope.model)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.duplicateEmployeeNumber = data;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\tif($scope.modelForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.modelForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif(!$scope.duplicate)\r\n\t\t\t{\r\n\t\t\t\t$scope.busy = true;\r\n\r\n\t\t\t\tif($scope.config.action == 'create')\r\n\t\t\t\t{\r\n\t\t\t\t\tHelper.post('/user', $scope.model)\r\n\t\t\t\t\t\t.success(function(duplicate){\r\n\t\t\t\t\t\t\tif(duplicate){\r\n\t\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tHelper.stop();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\t$scope.error = true;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\telse if($scope.config.action == 'edit')\r\n\t\t\t\t{\r\n\t\t\t\t\tHelper.put('/user' + '/' + $scope.config.id, $scope.model)\r\n\t\t\t\t\t\t.success(function(duplicate){\r\n\t\t\t\t\t\t\tif(duplicate){\r\n\t\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tHelper.stop();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\t$scope.error = true;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}]);","app\r\n\t.controller('appraisalPeriodsToolbarController', ['$scope', '$filter', function($scope, $filter){\r\n\t\t$scope.toolbar.parentState = 'Settings';\r\n\t\t$scope.toolbar.childState = 'Appraisal Periods';\r\n\r\n\t\t$scope.$on('close', function(){\r\n\t\t\t$scope.hideSearchBar();\r\n\t\t});\r\n\r\n\t\t$scope.toolbar.getItems = function(query){\r\n\t\t\tvar results = query ? $filter('filter')($scope.toolbar.items, query) : $scope.toolbar.items;\r\n\t\t\treturn results;\r\n\t\t}\r\n\r\n\t\t$scope.toolbar.searchAll = true;\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t$scope.model.busy = true;\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.searchBar = false;\r\n\t\t\t$scope.toolbar.searchText = '';\r\n\t\t\t$scope.toolbar.searchItem = '';\r\n\t\t\t/* Cancels the paginate when the user sent a query */\r\n\t\t\tif($scope.searched){\r\n\t\t\t\t$scope.model.page = 1;\r\n\t\t\t\t$scope.model.items = [];\r\n\t\t\t\t$scope.searched = false;\r\n\t\t\t\t$scope.$emit('refresh');\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.$emit('search');\r\n\t\t\t$scope.searched = true;\r\n\t\t};\r\n\r\n\t\t$scope.toolbar.options = true;\r\n\t\t$scope.toolbar.showInactive = true;\r\n\r\n\t\t$scope.toolbar.sort = [\r\n\t\t\t{\r\n\t\t\t\t'label': 'Start',\r\n\t\t\t\t'type': 'start',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'End',\r\n\t\t\t\t'type': 'end',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'Appraisal Year',\r\n\t\t\t\t'type': 'appraisal_year',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'Recently added',\r\n\t\t\t\t'type': 'created_at',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t$scope.toolbar.refresh = function(){\r\n\t\t\t$scope.$emit('refresh');\r\n\t\t}\r\n\t}]);","app\r\n\t.controller('departmentsToolbarController', ['$scope', '$filter', function($scope, $filter){\r\n\t\t$scope.toolbar.parentState = 'Settings';\r\n\t\t$scope.toolbar.childState = 'Departments';\r\n\r\n\t\t$scope.$on('close', function(){\r\n\t\t\t$scope.hideSearchBar();\r\n\t\t});\r\n\r\n\t\t$scope.toolbar.getItems = function(query){\r\n\t\t\tvar results = query ? $filter('filter')($scope.toolbar.items, query) : $scope.toolbar.items;\r\n\t\t\treturn results;\r\n\t\t}\r\n\r\n\t\t$scope.toolbar.searchAll = true;\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t$scope.model.busy = true;\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.searchBar = false;\r\n\t\t\t$scope.toolbar.searchText = '';\r\n\t\t\t$scope.toolbar.searchItem = '';\r\n\t\t\t/* Cancels the paginate when the user sent a query */\r\n\t\t\tif($scope.searched){\r\n\t\t\t\t$scope.model.page = 1;\r\n\t\t\t\t$scope.model.items = [];\r\n\t\t\t\t$scope.searched = false;\r\n\t\t\t\t$scope.$emit('refresh');\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.$emit('search');\r\n\t\t\t$scope.searched = true;\r\n\t\t};\r\n\r\n\t\t$scope.toolbar.options = true;\r\n\t\t$scope.toolbar.showInactive = true;\r\n\r\n\t\t$scope.toolbar.sort = [\r\n\t\t\t{\r\n\t\t\t\t'label': 'Name',\r\n\t\t\t\t'type': 'employee_number',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'Recently added',\r\n\t\t\t\t'type': 'created_at',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t$scope.toolbar.refresh = function(){\r\n\t\t\t$scope.$emit('refresh');\r\n\t\t}\r\n\t}]);","app\r\n\t.controller('usersToolbarController', ['$scope', '$filter', function($scope, $filter){\r\n\t\t$scope.toolbar.parentState = 'Settings';\r\n\t\t$scope.toolbar.childState = 'Users';\r\n\r\n\t\t$scope.$on('close', function(){\r\n\t\t\t$scope.hideSearchBar();\r\n\t\t});\r\n\r\n\t\t$scope.toolbar.getItems = function(query){\r\n\t\t\tvar results = query ? $filter('filter')($scope.toolbar.items, query) : $scope.toolbar.items;\r\n\t\t\treturn results;\r\n\t\t}\r\n\r\n\t\t$scope.toolbar.searchAll = true;\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t$scope.model.busy = true;\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.searchBar = false;\r\n\t\t\t$scope.toolbar.searchText = '';\r\n\t\t\t$scope.toolbar.searchItem = '';\r\n\t\t\t/* Cancels the paginate when the user sent a query */\r\n\t\t\tif($scope.searched){\r\n\t\t\t\t$scope.model.page = 1;\r\n\t\t\t\t$scope.model.no_matches = false;\r\n\t\t\t\t$scope.model.items = [];\r\n\t\t\t\t$scope.searched = false;\r\n\t\t\t\t$scope.$emit('refresh');\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.$emit('search');\r\n\t\t\t$scope.searched = true;\r\n\t\t};\r\n\r\n\t\t$scope.toolbar.options = true;\r\n\t\t$scope.toolbar.showInactive = true;\r\n\r\n\t\t$scope.toolbar.sort = [\r\n\t\t\t{\r\n\t\t\t\t'label': 'Employee Number',\r\n\t\t\t\t'type': 'employee_number',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'Last Name',\r\n\t\t\t\t'type': 'last_name',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'First Name',\r\n\t\t\t\t'type': 'first_name',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'Email',\r\n\t\t\t\t'type': 'email',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'Recently added',\r\n\t\t\t\t'type': 'created_at',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t$scope.toolbar.refresh = function(){\r\n\t\t\t$scope.$emit('refresh');\r\n\t\t}\r\n\t}]);","app\r\n\t.controller('teamReviewsToolbarController', ['$scope', '$filter', function($scope, $filter){\r\n\t\t$scope.toolbar.childState = 'Team Reviews';\r\n\r\n\t\t$scope.$on('close', function(){\r\n\t\t\t$scope.hideSearchBar();\r\n\t\t});\r\n\r\n\t\t$scope.toolbar.getItems = function(query){\r\n\t\t\tvar results = query ? $filter('filter')($scope.toolbar.items, query) : $scope.toolbar.items;\r\n\t\t\treturn results;\r\n\t\t}\r\n\r\n\t\t$scope.toolbar.searchAll = true;\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t$scope.model.busy = true;\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.searchBar = false;\r\n\t\t\t$scope.toolbar.searchText = '';\r\n\t\t\t$scope.toolbar.searchItem = '';\r\n\t\t\t/* Cancels the paginate when the user sent a query */\r\n\t\t\tif($scope.searched){\r\n\t\t\t\t$scope.model.page = 1;\r\n\t\t\t\t$scope.model.items = [];\r\n\t\t\t\t$scope.searched = false;\r\n\t\t\t\t$scope.$emit('refresh');\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.$emit('search');\r\n\t\t\t$scope.searched = true;\r\n\t\t};\r\n\r\n\t\t$scope.toolbar.options = true;\r\n\t\t$scope.toolbar.showInactive = true;\r\n\r\n\t\t$scope.toolbar.sort = [\r\n\t\t\t{\r\n\t\t\t\t'label': 'Start',\r\n\t\t\t\t'type': 'start',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'End',\r\n\t\t\t\t'type': 'end',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'Appraisal Year',\r\n\t\t\t\t'type': 'appraisal_year',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'Recently added',\r\n\t\t\t\t'type': 'created_at',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t$scope.toolbar.refresh = function(){\r\n\t\t\t$scope.$emit('refresh');\r\n\t\t}\r\n\t}]);"]}